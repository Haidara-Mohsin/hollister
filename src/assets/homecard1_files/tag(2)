BrightTag.site('Qpejd48',function(s){
s.dbe('brand name', '(function(){\r\n\tif(location.pathname.indexOf(\x27gilly-hicks\x27) \x3e -1){\r\n\t\treturn \x22gillyhicks\x22;\r\n\t}else if(location.pathname.indexOf(\x27social-tourist\x27) \x3e -1){\r\n    \t\treturn \x22socialtourist\x22;\r\n\t}else{\r\n    \t\treturn \x22hollisterco\x22;\r\n\t}\r\n})();\r\n',{pageId:10567});
s.dbe('category id', '(function() {\r\n    var catID \x3d \x22\x22;\r\n    try{\r\n            catID \x3d ANF.catalog.data.categoryId;\r\n    } catch(e) {}\r\n    return catID\r\n})();',{pageId:6988});
s.dbe('page type', '(function(){\r\n\ttry {\r\n\t\tvar thisPageType \x3d digitalData.get(\x27page.pageKind\x27);\r\n\t\t\r\n\t\tif(thisPageType !\x3d\x3d undefined \x26\x26 thisPageType !\x3d\x3d \x22\x22 ) {\r\n\t\t\tbt_log(\x27digitalData used to create pageType\x27);\r\n\t\t\treturn thisPageType ;\r\n\t\t} else {\r\n\t\t\treturn \x22homepage\x22;\r\n\t\t}\r\n\t} catch(e) {\r\n\t\treturn \x22digitalDataBroken\x22;\r\n\t}\r\n})();',{pageId:6998});
s.dbe('site language', '(function(){\r\n\tvar lang \x3d \x22en\x22;\r\n\ttry {\r\n\t\tif (typeof $(\x27html\x27).attr(\x27lang\x27) !\x3d \x27undefined\x27) {\r\n\t\t\tlang \x3d $(\x27html\x27).attr(\x27lang\x27).split(\x27-\x27)[0].toString();\r\n\t\t}\r\n\t\t\r\n\t\t//Error pages\r\n\t\tif (typeof $(\x27body\x27).attr(\x27data-language\x27) !\x3d \x27undefined\x27) {\r\n\t\t\tlang \x3d $(\x27body\x27).attr(\x27data-language\x27).split(\x27-\x27)[0].toString();\r\n\t\t}\r\n\t\t\r\n\t} catch (e) {\r\n\t\tlang \x3d \x22en\x22;\r\n\t}\r\n\t\r\n\tif (typeof BTanalytics !\x3d \x27undefined\x27) { \r\n\t\tBTanalytics.curLang \x3d lang;\r\n\t}\r\n\treturn lang;\r\n\r\n}());',{pageId:6988});
s.dbe('currency code', '(function() {\r\n\ttry {\r\n\t\tif (typeof uPref.cur \x3d\x3d \x22string\x22) {\r\n\t\t\tif (typeof BTanalytics !\x3d \x27undefined\x27) { \r\n\t\t\t\tBTanalytics.currency \x3d uPref.cur;\r\n\t\t\t}\r\n\t\t\treturn uPref.cur;\r\n\t\t} else if (digitalData.get(\x27page.currency\x27) !\x3d \x22\x22) {\r\n\t\t\tif (typeof BTanalytics !\x3d \x27undefined\x27) { \r\n\t\t\t\tBTanalytics.currency \x3d digitalData.get(\x27page.currency\x27);\r\n\t\t\t}\r\n\t\t\treturn digitalData.get(\x27page.currency\x27);\r\n\t\t} else {\r\n\t\t\tthrow e;\r\n\t\t}\r\n\t} catch(e) {\r\n\r\n\t\tvar fromObject\x3d\x27\x27;\r\n\t\tvar fromURL\x3d\x27\x27;\r\n\t\tvar fromCookie\x3d\x27\x27;\r\n\t\tvar storeID \x3d \x27\x27\r\n\r\n\t\ttry {\r\n\t\t\tfromObject \x3d ANF.params.storeAttributes.storeId || ANF.params.storeAttributes.idList.storeId;\r\n\t\t\tif (fromObject !\x3d\x27\x27){ storeID \x3d fromObject; }\r\n\t\t}catch(e){ //Do nothing;\r\n\t\t}\r\n\r\n\t\tif (storeID \x3d\x3d \x27\x27 || typeof storeID \x3d\x3d \x27undefined\x27){\r\n\t\t\ttry {\r\n\t\t\t\tfromURL \x3d bt_parameter(\x27storeId\x27);\r\n\t\t\t\tif (fromURL !\x3d\x27\x27){ storeID \x3d fromURL; }\r\n\t\t\t}catch(e){ //Do nothing;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (storeID \x3d\x3d \x27\x27 || typeof storeID \x3d\x3d \x27undefined\x27){\r\n\t\t\tstoreID \x3d \x22\x22;\r\n\t\t}\r\n\r\n\t\tswitch (storeID.toString()) {\r\n\t\t\tcase \x2710051\x27: case \x2710101\x27: case \x2710251\x27: case \x2713607\x27: case \x2711203\x27: case \x2711204\x27: case \x2711205\x27: case \x2714621\x27:\r\n\t\t\t\tcurrencyCode \x3d \x27USD\x27;\r\n\t\t\t\tbreak;       \r\n\t\t\tcase \x2711306\x27: case \x2711307\x27: case \x2711308\x27: \r\n\t\t\t\tcurrencyCode \x3d \x27CAD\x27;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \x2719658\x27: case \x2719161\x27: case \x2719659\x27: case \x2716609\x27:\r\n\t\t\t\tcurrencyCode \x3d \x27GBP\x27;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \x2719159\x27: case \x2719160\x27: case \x2719158\x27:\r\n\t\t\t\tcurrencyCode \x3d \x27EUR\x27;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \x2721659\x27: case \x2721660\x27:\r\n\t\t\t\tcurrencyCode \x3d \x27CNY\x27;\r\n\t\t\t\tbreak;\r\n\t\t\tdefault :                \r\n\t\t\t\tcurrencyCode \x3d \x27none\x27;\r\n\t\t}\r\n\r\n\t\tif (typeof BTanalytics !\x3d \x27undefined\x27) { \r\n\t\t\tBTanalytics.currency \x3d currencyCode;\r\n\t\t}\r\n\t\treturn currencyCode;\r\n\t}\r\n})();',{pageId:6988});
s.dbe('cart items', '(function(){\r\n\ttry {\r\n\t\tvar store \x3d ANF.params.storeAttributes.storeId || ANF.params.storeAttributes.idList.storeId;\r\n\t\tif (bt_cookie(\x27af-minicart-\x27+store) !\x3d \x22undefined\x22) {\r\n\t\t\treturn bt_cookie(\x27af-minicart-\x27+store) || 0\r\n\t\t} else {\r\n\t\t\treturn \x220\x22\r\n\t\t}\r\n\t} catch(e) {\r\n\t\treturn \x22\x22;\r\n\t}\r\n})();',{pageId:6988});
s.dbe('sitecatalyst page path', '(function () {\r\n\tvar thisPage \x3d \x27\x27;\r\n\ttry { thisPage \x3d digitalData.get(\x27page.pageName\x27,\x27\x27); } catch(e) { }\r\n\t\r\n\tif(thisPage !\x3d \x27\x27 \x26\x26 thisPage !\x3d \x27undefined\x27 \x26\x26 thisPage !\x3d \x27missing\x27) {\r\n\t\tif(thisPage.indexOf(\x27Ljava.lang.String\x27) \x3e -1) { thisPage \x3d \x22invalid digitalData.page.pageName\x22 }\r\n\t\tpg \x3d \x22:\x22 + thisPage;\r\n\t\tbt_log(\x27digitalData used to create pageName\x27);\r\n\t} else {\r\n\t\ttry {\r\n\t\t\tvar bodyid \x3d $(\x27body\x27).attr(\x27id\x27) || \x22\x22;\r\n\t\t\tvar bodyclass \x3d $(\x27body\x27).attr(\x27class\x27) || \x22\x22;\r\n\t\t\tvar pg \x3d \x22\x22;\r\n\t\t\tvar arrPagePath \x3d window.location.pathname.split(\x27/\x27);\r\n\t\t\tvar pagePathLength \x3d arrPagePath.length-1;\r\n\t\t\t\r\n\t\t\t/* TRY the ANF.catalog.data.categoryHierarchyObj - this exists for all non-error CMS driven pages */\r\n\t\t\ttry { var categoryHierarchyObj \x3d ANF.catalog.data.categoryHierarchyObj; } catch(e) { }\r\n\r\n\t\t\tif (typeof categoryHierarchyObj !\x3d \x27undefined\x27) {\r\n\t\t\t\t$.each( ANF.catalog.data.categoryHierarchyObj, function (i, v){ \r\n\t\t\t\t\tif (typeof v.enName !\x3d \x22undefined\x22 \x26\x26 v.enName.toLowerCase() !\x3d \x22hol\x22 \x26\x26 v.enName.toLowerCase() !\x3d \x22anf\x22 \x26\x26 v.enName.toLowerCase() !\x3d \x22kids\x22) {\r\n\t\t\t\t\t\tif (i\x3d\x3d1 \x26\x26 ANF.catalog.data.categoryHierarchyObj[0].enName.toLowerCase() \x3d\x3d \x27kids\x27 \x26\x26 (v.enName.toLowerCase()!\x3d\x22boys\x22 \x26\x26 v.enName.toLowerCase()!\x3d\x22girls\x22) ) {\r\n\t\t\t\t\t\t\tpg +\x3d \x22:\x22+ANF.catalog.data.categoryHierarchyObj[0].enName.toLowerCase();\r\n\t\t\t\t\t\t\tpg +\x3d \x22-\x22+v.enName.toLowerCase();\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tpg +\x3d \x22:\x22+v.enName.toLowerCase();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (v.name.toLowerCase() !\x3d \x22hol\x22 \x26\x26 v.name.toLowerCase() !\x3d \x22anf\x22 \x26\x26 v.name.toLowerCase() !\x3d \x22kids\x22) {\r\n\t\t\t\t\t\tpg +\x3d \x22:\x22+v.name.toLowerCase();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t/* Adjustments */\r\n\t\t\tif (bodyid \x3d\x3d \x27home\x27) {\r\n\t\t\t\tpg +\x3d \x22:home\x22;\r\n\t\t\t} else if (bodyid \x3d\x3d \x27brand-content\x27) {\r\n\t\t\t\tif (typeof categoryHierarchyObj \x3d\x3d \x27undefined\x27) {\r\n\t\t\t\t\t/* brand content top-nav linked pages */\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tif (arrPagePath.indexOf(\x27br\x27) \x3d\x3d 3) {\r\n\t\t\t\t\t\t\tpg +\x3d \x22:\x22 + arrPagePath.slice(4,pagePathLength+1).join(\x27:\x27);\r\n\t\t\t\t\t\t\tif (bt_parameter(\x27brand\x27)\x3d\x3d\x27kids\x27) { pg +\x3d \x22:kids\x22; }\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthrow(e);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch(e) {\r\n\t\t\t\t\t\tpg +\x3d \x22:brand content unknown\x22;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif ($(\x27.jeans-lounge-wrapper\x27).length \x3e 0 || $(\x27#btsjeans-landing\x27).length \x3e 0 ) {\r\n\t\t\t\t\t\tpg \x3d \x22:denim guide\x22;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\r\n\t\t\tif (bodyid \x3d\x3d null \x26\x26 pg \x3d\x3d \x27\x27) {\r\n\t\t\t\tpg +\x3d \x22:\x22 + \x27unknown\x27;\r\n\t\t\t} else if (bodyid !\x3d null \x26\x26 bodyid !\x3d \x22\x22 \x26\x26 pg \x3d\x3d \x27\x27) {\r\n\t\t\t\tpg +\x3d \x22:\x22 + bodyid.split(\x27-\x27).join(\x27:\x27);\r\n\t\t\t\tpg \x3d pg.replace(\x27:fastEnroll\x27,\x27:my account:fastenroll\x27).toLowerCase(); /* rename \x22My Account\x22 */\r\n\t\t\t\tpg \x3d pg.replace(\x27:account:user:verify:v2\x27,\x27:my account:verify password\x27).toLowerCase(); /* rename \x22My Account\x22 */\r\n\t\t\t\tpg \x3d pg.replace(\x27:account:sign:in:v2\x27,\x27:my account:log in\x27).toLowerCase(); /* rename \x22My Account\x22 */\r\n\t\t\t\tpg \x3d pg.replace(\x27:account:create:v2\x27,\x27:my account:create\x27).toLowerCase(); /* rename \x22My Account\x22 */\r\n\t\t\t\tpg \x3d pg.replace(\x27:account:mainpage\x27,\x27:my account:dashboard\x27).toLowerCase(); /* rename \x22My Account\x22 */\r\n\t\t\t\tpg \x3d pg.replace(\x27:account:password:update:v2\x27,\x27:my account:password update\x27).toLowerCase(); /* rename \x22My Account\x22 */\r\n\t\t\t\tpg \x3d pg.replace(\x27:account:rewards\x27,\x27:my account:rewards\x27).toLowerCase(); /* rename \x22My Account\x22 */\r\n\t\t\t\tif ($(\x27form#login-form input#login-password-field\x27).length \x3e 0) {\r\n\t\t\t\t\tpg \x3d pg.replace(\x27:account:social:login:v2\x27,\x27:my account:social login:enter password\x27).toLowerCase(); /* rename \x22My Account\x22 */\r\n\t\t\t\t} else if ($(\x27form#login-form input#login-phone-field1\x27).length \x3e 0) {\r\n\t\t\t\t\tpg \x3d pg.replace(\x27:account:social:login:v2\x27,\x27:my account:social login:enter phone number\x27).toLowerCase(); /* rename \x22My Account\x22 */\r\n\t\t\t\t} else if ($(\x27form#login-form input#email\x27).length \x3e 0) {\r\n\t\t\t\t\tpg \x3d pg.replace(\x27:account:social:login:v2\x27,\x27:my account:social login:enter email\x27).toLowerCase(); /* rename \x22My Account\x22 */\r\n\t\t\t\t}\r\n\t\t\t\tif ($(\x27.sign-in-section\x27).is(\x27:visible\x27)) {\r\n\t\t\t\t\tpg \x3d pg.replace(\x27:account:social:sign:on:v2\x27,\x27:my account:login\x27).toLowerCase();\r\n\t\t\t\t}\r\n\t\t\t\tif ($(\x27.create-account-section\x27).is(\x27:visible\x27)) {\r\n\t\t\t\t\tpg \x3d pg.replace(\x27:account:social:sign:on:v2\x27,\x27:my account:create\x27).toLowerCase();\r\n\t\t\t\t}\r\n\t\t\t\tpg \x3d pg.replace(\x27:account:social:sign:on:v2\x27,\x27:my account:step 0 authentication\x27).toLowerCase(); /* rename \x22My Account\x22 */\r\n\t\t\t\tpg \x3d pg.replace(\x27:accountsection:ordertracking\x27,\x27:my account:orders\x27).replace(\x27:account:ordertracking\x27,\x27:my account:orders\x27).toLowerCase(); /* rename \x22My Account\x22 */\r\n\t\t\t\tpg \x3d pg.replace(\x27:accountsection\x27,\x27:my account\x27).toLowerCase(); /* rename \x22My Account\x22 */\r\n\t\t\t\tpg \x3d pg.replace(\x27:account\x27,\x27:my account\x27).toLowerCase(); /* rename \x22My Account\x22 */\r\n\t\t\t\tpg \x3d pg.replace(\x27:catalog:searchview\x27,\x27:search\x27).toLowerCase(); /* rename \x22Search Results\x22 */\r\n\t\t\t\tpg \x3d pg.replace(\x27:catalog:grid:saves\x27,\x27:my saves\x27).toLowerCase(); /* rename \x22My Account\x22 */\r\n\t\t\t\tpg \x3d pg.replace(\x27:catalog:thematic\x27,\x27:bloomreach:\x27+$(\x27.cat-name\x27).text().trim()).toLowerCase(); /* rename BloomReach thematic pages */\r\n\t\t\t\tif (bodyid \x3d\x3d \x27catalog-categoryview\x27 \x26\x26 bodyclass.indexOf(\x27just-your-style\x27) \x3e -1) {\r\n\t\t\t\t\tpg \x3d pg.replace(\x27catalog:categoryview\x27,\x27just for you\x27);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (pg \x3d\x3d \x27:catalog:divisionview\x27) {\r\n\t\t\t\t\tif (arrPagePath.length \x3d\x3d 5 \x26\x26 arrPagePath[4]\x3d\x3d\x27girls\x27) { pg \x3d \x27:girls\x27; }\r\n\t\t\t\t\tif (arrPagePath.length \x3d\x3d 6 \x26\x26 arrPagePath[4]\x3d\x3d\x27girls\x27 \x26\x26 arrPagePath[5]\x3d\x3d\x27\x27) { pg \x3d \x27:girls\x27; } \r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (arrPagePath[pagePathLength] \x3d\x3d \x22\x22) {\r\n\t\t\t\tif (arrPagePath[pagePathLength -1] \x3d\x3d \x22kids\x22) {\r\n\t\t\t\t\tpg \x3d \x22:kids home\x22;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tif (arrPagePath[pagePathLength] \x3d\x3d \x22kids\x22) {\r\n\t\t\t\t\tpg \x3d \x22:kids home\x22;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ($(\x27div.reset-password\x27).length\x3e0) {\r\n\t\t\t\tpg+\x3d\x22:reset password\x22;\r\n\t\t\t\tif ($(\x27.reset-password.success\x27).length\x3e0) {\r\n\t\t\t\t\tpg+\x3d\x22:success\x22;\r\n\t\t\t\t}\r\n\t\t\t\tif ($(\x27#forgot-password-form #messages.errors\x27).length\x3e0){\r\n\t\t\t\t\tpg+\x3d\x22:error\x22;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif ($(\x27.checkoutV2 #messages.errors\x27).length \x3e 0 ) {\r\n\t\t\t\tpg+\x3d\x22:error\x22;\r\n\t\t\t}\r\n\r\n\t\t\tif ($(\x27.social-signon__error-message\x27).length \x3e 0) {\r\n\t\t\t\tif ($(\x27.social-signon__error-message\x27).is(\x27:visible\x27)) {\r\n\t\t\t\t\tif ($(\x27.social-signon__error-message\x27).html().trim().length \x3e 0) {\r\n\t\t\t\t\t\tpg+\x3d\x22:error\x22;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif ($(\x27div.content.gift-guide-content\x27).length \x3e 0) {\r\n\t\t\t\tpg \x3d \x22:gift guide\x22;\r\n\t\t\t\tif (bt_parameter(\x27gender\x27) \x3d\x3d \x22gender-m\x22) {\r\n\t\t\t\t\tpg +\x3d \x22:Guys\x22;\r\n\t\t\t\t}\r\n\t\t\t\tif (bt_parameter(\x27gender\x27) \x3d\x3d \x22gender-f\x22) {\r\n\t\t\t\t\tpg +\x3d \x22:Girls\x22;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\r\n\t\t\tif ($(\x27.order-tracking-section-wrap\x27).length\x3e0 || $(\x27.order-history__header\x27).length\x3e0) {\r\n\t\t\t\tpg \x3d pg.replace(\x27:orderdetail\x27,\x27\x27).toLowerCase();\r\n\t\t\t\tpg+\x3d\x22:order-details\x22;\r\n\t\t\t\tpg \x3d pg.replace(\x27::\x27,\x27:\x27);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif ($(\x27.return-details_orderid-label\x27).length \x3e 0) {\r\n\t\t\t\tpg +\x3d \x22:return details\x22;  \r\n\t\t\t}\r\n\r\n\t\t\tif ($(\x27.returns-flow_container-section\x27).length \x3e 0) {\r\n\t\t\t\tpg +\x3d \x22:returns\x22;\r\n\t\t\t}\r\n\t\t\t\t\r\n\t\t\tif ($(\x27#payment-auth\x27).length \x3e 0) {\r\n\t\t\t\tpg +\x3d \x22:payment authorization\x22;\r\n\t\t\t\tpg \x3d pg.replace(\x27::\x27,\x27:\x27);\r\n\t\t\t}\r\n\r\n\t\t\tif (bodyclass.indexOf(\x27matching-set-view\x27) \x3e -1) { \r\n\t\t\t\tpg +\x3d \x22:matching set\x22;\r\n\t\t\t}\r\n\t\t\r\n\t\t\tif (bodyclass.indexOf(\x27search-view\x27) \x3e -1) {\r\n\t\t\t\tpg \x3d pg.replace(\x27catalog:grid\x27,\x27search\x27).toLowerCase();\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof $(\x27div.gift-guide-nav .selected a\x27).html() !\x3d\x3d \x27undefined\x27 \x26\x26 $(\x27div.gift-guide-nav .selected a\x27).html() !\x3d\x3d null) {\r\n\t\t\t\tpg +\x3d \x22:\x22 + $(\x27div.gift-guide-nav .selected a\x27).html();\r\n\t\t\t}\r\n\r\n\t\t\t/* STEP 4: ADD PDP PRODUCT NAMES */\r\n\t\t\tif (bodyclass.indexOf(\x27product-page-v2\x27) \x3e -1) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tthisProduct \x3d ANF.catalog.reviews.Includes.Products[ANF.catalog.reviews.Includes.ProductsOrder[0]].Name;\r\n\t\t\t\t} catch(e) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tthisProduct \x3d productCatalog[$(\x27[name\x3d\x22productId\x22]:first\x27).val()].name;\r\n\t\t\t\t\t} catch(e) {}\r\n\t\t\t\t}\r\n\t\t\t\tif (thisProduct.length\x3e0) {\r\n\t\t\t\t\tpg +\x3d \x22:\x22 + thisProduct;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (bodyid \x3d\x3d \x27catalog-giftcard\x27) {\r\n\t\t\t\tpg +\x3d \x22:\x22 + $(\x27.add-to-bag input[name\x3d\x22collectionId\x22]:first\x27).val();\r\n\t\t\t}\r\n\r\n\t\t\tif (bt_parameter(\x27textKey\x27) !\x3d \x22\x22) {\r\n\t\t\t\t/* New Customer Service pages */\r\n\t\t\t\tpg +\x3d \x22:help:\x22 + bt_parameter(\x27textKey\x27).toLowerCase().replace(\x27help_\x27,\x27\x27);\r\n\t\t\t} else if (bt_parameter(\x27pagename\x27) !\x3d \x22\x22) {\r\n\t\t\t\t/* Customer Service pages */\r\n\t\t\t\tpg +\x3d \x22:\x22 + bt_parameter(\x27pagename\x27);\r\n\t\t\t}\r\n\r\n\t\t\tif (pg.indexOf(\x27:modularhelp\x27) \x3e -1) {\r\n\t\t\t\tpg \x3d pg.replace(\x27:modularhelp\x27,\x27:help\x27);\r\n\t\t\t}\r\n\r\n\t\t\tif (pg.split(\x27:\x27).slice(-1) \x3d\x3d \x22v2\x22) {\r\n\t\t\t\tpg \x3d pg.split(\x27:\x27).slice(0,-1).join(\x27:\x27)\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t/* Some overrides */\r\n\t\t\tif (window.location.pathname.indexOf(\x27FileNotFoundError\x27) \x3e -1) {\r\n\t\t\t\t//return \x22:error\x22;\r\n\t\t\t} else if (window.location.pathname.indexOf(\x27DoPaymentErrorView\x27) \x3e -1) {\r\n\t\t\t\t//return \x22:checkout:payment:error\x22;\r\n\t\t\t} else if (window.location.pathname.indexOf(\x27ForwardToPayPalExpress\x27) \x3e -1) {\r\n\t\t\t\tpg \x3d \x22:checkout:verify for paypal express\x22;\r\n\t\t\t} else if (window.location.pathname.indexOf(\x27BillToShippingCheck\x27) \x3e -1) {\r\n\t\t\t\tpg \x3d \x22:checkout:verify for bill to shipping\x22;\r\n\t\t\t} else if (bodyclass.indexOf(\x27merged-bag__display\x27) \x3e -1) {\r\n\t\t\t\tpg \x3d \x22:checkout:portable bag merge\x22;\r\n\t\t\t} else if (bodyclass.indexOf(\x27order-review-page\x27) \x3e -1 \x26\x26 bt_eval(\x27ANF.params.storeAttributes.checkout.useDataBridgeForAnalytics\x27) \x3d\x3d true) {\r\n\t\t\t\tpg \x3d \x22:checkout\x22;\r\n\t\t\t} else if (typeof $(\x27body\x27).attr(\x27data-orderid\x27) !\x3d \x22undefined\x22) {\r\n\t\t\t\tif ($(\x27body\x27).attr(\x27data-orderid\x27).length \x3e 0) {\r\n\t\t\t\t\tpg \x3d \x22:checkout:receipt\x22;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (bodyid\x3d\x3d\x22checkout-cart\x22) {\r\n\t\t\t\tpg \x3d \x22:checkout:cart\x22;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif ($(\x27.cross-repudiation-warning\x27).length \x3e 0) {\r\n\t\t\t\tpg +\x3d \x22:cross site loyalty repudiation\x22;\r\n\t\t\t}\r\n\r\n\r\n\t\t\t/* ANF Search Results with Kids */\r\n\t\t\tif ($(\x27.department-tabs__tab.active-dept\x27).length \x3e 0){\r\n\t\t\t\t/* ANF US DC */\r\n\t\t\t\tif ($(\x27.department-tabs__tab.active-dept\x27).attr(\x27data-category-id\x27).split(\x27_\x27)[1] \x3d\x3d \x2212202\x22) {\r\n\t\t\t\t\tpg +\x3d \x22:mens\x22;\r\n\t\t\t\t}\r\n\t\t\t\tif ($(\x27.department-tabs__tab.active-dept\x27).attr(\x27data-category-id\x27).split(\x27_\x27)[1] \x3d\x3d \x2212203\x22) {\r\n\t\t\t\t\tpg +\x3d \x22:womens\x22;\r\n\t\t\t\t}\r\n\t\t\t\tif ($(\x27.department-tabs__tab.active-dept\x27).attr(\x27data-category-id\x27).split(\x27_\x27)[1] \x3d\x3d \x22179205\x22) {\r\n\t\t\t\t\tpg +\x3d \x22:boys\x22;\r\n\t\t\t\t}\r\n\t\t\t\tif ($(\x27.department-tabs__tab.active-dept\x27).attr(\x27data-category-id\x27).split(\x27_\x27)[1] \x3d\x3d \x22179206\x22) {\r\n\t\t\t\t\tpg +\x3d \x22:girls\x22;\r\n\t\t\t\t}\r\n\t\t\t\t/* ANF NL DC */\r\n\t\t\t\tif ($(\x27.department-tabs__tab.active-dept\x27).attr(\x27data-category-id\x27).split(\x27_\x27)[1] \x3d\x3d \x2284506\x22) {\r\n\t\t\t\t\tpg +\x3d \x22:mens\x22;\r\n\t\t\t\t}\r\n\t\t\t\tif ($(\x27.department-tabs__tab.active-dept\x27).attr(\x27data-category-id\x27).split(\x27_\x27)[1] \x3d\x3d \x2284593\x22) {\r\n\t\t\t\tpg +\x3d \x22:womens\x22;\r\n\t\t\t\t}\r\n\t\t\t\tif ($(\x27.department-tabs__tab.active-dept\x27).attr(\x27data-category-id\x27).split(\x27_\x27)[1] \x3d\x3d \x22179211\x22) {\r\n\t\t\t\t\tpg +\x3d \x22:boys\x22;\r\n\t\t\t\t}\r\n\t\t\t\tif ($(\x27.department-tabs__tab.active-dept\x27).attr(\x27data-category-id\x27).split(\x27_\x27)[1] \x3d\x3d \x22179212\x22) {\r\n\t\t\t\t\tpg +\x3d \x22:girls\x22;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t/* replace quotes and apostrophes */\r\n\t\t\tif (pg.length \x3d\x3d 0) {\r\n\t\t\t\tthrow(e);\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof BTCartState !\x3d \x22undefined\x22) {\r\n\t\t\t\tif (typeof BTCartState.pagename !\x3d \x22undefined\x22) {\r\n\t\t\t\t\tpg \x3d \x22:checkout:\x22 + BTCartState.pagename;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t} catch(e) {\r\n\t\t\treturn \x22:brighttag error\x22\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn pg.replace(/\x27/g,\x22\x22).replace(/\x22/g,\x22\x26quot;\x22).toLowerCase();\r\n})();',{pageId:6988});
s.dbe('loyalty info', '(function(){\r\n\t(function(){\r\n\t\t//if data exists on page load, save it then use it\r\n\t\ttry {\r\n\t\t\ttier \x3d digitalData.get(\x27user.loyalty.tier\x27);\r\n\r\n\t\t\tcurrentPoints \x3d digitalData.get(\x27user.loyalty.points\x27).replace(/\\D/g,\x27\x27);\r\n\t\t\tif (currentPoints \x3d\x3d \x22\x22) { currentPoints \x3d \x22NA\x22 }\r\n\t\t\tif (currentPoints \x3d\x3d \x220\x22) { currentPoints \x3d \x22none\x22 }\r\n\r\n\t\t\tadvance \x3d digitalData.get(\x27user.loyalty.currencyAmount\x27).replace(/\\D/g,\x27\x27);\r\n\t\t\tif (advance \x3d\x3d \x22\x22) { advance \x3d \x22NA\x22 }\r\n\t\t\tif (advance \x3d\x3d \x220\x22) { advance \x3d \x22none\x22 }\r\n\r\n\t\t\tmaintain \x3d digitalData.get(\x27user.loyalty.currencyAmount\x27).replace(/\\D/g,\x27\x27);\r\n\t\t\tif (maintain \x3d\x3d \x22\x22) { maintain \x3d \x22NA\x22 }\r\n\t\t\tif (maintain \x3d\x3d \x220\x22) { maintain \x3d \x22none\x22 }\r\n\r\n\t\t\tloyalty \x3d tier+\x22:\x22+currentPoints+\x22:\x22+maintain+\x22:\x22+advance;\r\n\t\t\twindow.localStorage.setItem(\x27loyaltyInfo\x27,loyalty);\r\n\t\t} catch(e) { }\r\n\t})();\r\n\r\n\ttry {\r\n\t\tstoredData \x3d window.localStorage.getItem(\x27loyaltyInfo\x27);\r\n\t\tstoredData \x3d storedData.split(\x27:\x27);\r\n\t\tfor (i\x3d0;i\x3cstoredData.length;i++) { if (storedData[i] \x3d\x3d \x22\x22) { storedData[i]\x3d\x22NA\x22;} }\r\n\t\treturn storedData.join(\x27:\x27);\r\n\t} catch(e) {}\r\n})();',{pageId:6988});
s.dbe('brand code', '\x22hol\x22',{pageId:10567});
s.dbe('campaign code', '(function(){\r\n\tvar cmp \x3d bt_parameter(\x27cmp\x27) || bt_parameter(\x27CMP\x27) || bt_parameter(\x27icmp\x27) || bt_parameter(\x27ICMP\x27);\r\n\tif (cmp \x3d\x3d \x22\x22 \x26\x26 window.location.search.indexOf(\x27cmp\x3d\x27) \x3e -1) {\r\n\t\tcmp \x3d window.location.search.split(\x27cmp\x3d\x27)[1].split(\x27\x26\x27)[0]\r\n\t}\r\n\tif (typeof cmp \x3d\x3d \x22object\x22 \x26\x26 cmp instanceof Array) {\r\n\t\treturn decodeURIComponent(cmp[0]);\r\n\t} else {\r\n\t\treturn decodeURIComponent(cmp);\r\n\t}\r\n})();',{pageId:6988});
s.dbe('merch total (usd)', '(function(){\r\n\ttry {\r\n\t\tif (typeof BTanalytics !\x3d \x27undefined\x27) {\r\n\t\t\tif (typeof BTanalytics.cartTotal !\x3d \x27undefined\x27) {\r\n\t\t\t\treturn BTanalytics.cartTotal;\r\n\t\t\t}\r\n\t\t}\r\n\t} catch(e) {\r\n\t}\r\n})();',{pageId:6988});
s.dbe('ismobileapp', '(function(){\r\n\tthisCMP \x3d bt_parameter(\x27cmp\x27);\r\n\tthisCMP \x3d thisCMP.toString().toLowerCase()\r\n\r\n\tif (thisCMP.indexOf(\x27anfmobileapp\x27) \x3e -1) {\r\n\t\ttry { BTanalytics.isMobileApp \x3d \x27true\x27; saveBTanalytics(); } catch(e) { }\r\n\t\treturn true;\r\n\t}\r\n\tif (thisCMP.indexOf(\x27hcomobileapp\x27) \x3e -1) {\r\n\t\ttry { BTanalytics.isMobileApp \x3d \x27true\x27; saveBTanalytics(); } catch(e) { }\r\n\t\treturn true;\r\n\t}\r\n\tif (thisCMP.indexOf(\x27anfkidsmobileapp\x27) \x3e -1) {\r\n\t\ttry { BTanalytics.isMobileApp \x3d \x27true\x27; saveBTanalytics(); } catch(e) { }\r\n\t\treturn true;\r\n\t}\r\n\t\r\n\ttry {\r\n\t\tif (sessionStorage.getItem(\x27isMobileApp\x27) \x3d\x3d \x27true\x27) { return true; }\r\n\t\tif (BTanalytics.isMobileApp  \x3d\x3d \x27true\x27) { return true; }\r\n\t} catch(e) { }\r\n\t\r\n\treturn false;\r\n})();',{pageId:6988});
s.dbe('user authentication state', '(function(){\r\n\tvar userType \x3d (function(){\r\n\t\ttry {\r\n\t\t\treturn bt_cookie(\x27userType\x27) || \x22G\x22;\r\n\t\t} catch(e) {\r\n\t\t\treturn \x22G\x22;\r\n\t\t}\r\n\t})();\r\n\r\n\tvar authenticatedID \x3d (function() {\r\n\t\ttry {\r\n\t\t\tvar thisId \x3d \x22\x22;\r\n\t\t\ttry {\r\n\t\t\t\tthisId \x3d document.cookie.split(\x27WC_AUTHENTICATION_\x27)[1].split(\x27\x3d\x27)[0] || \x22\x22;\r\n\t\t\t\tif (thisId \x3d\x3d \x27-1002\x27) thisId \x3d \x22\x22;\r\n\t\t\t} catch (e) {\r\n\t\t\t\tthisID \x3d \x22\x22;\r\n\t\t\t}\r\n\t    \r\n\t\t\tif (thisId !\x3d \x22\x22) {\r\n\t\t\t\tif (bt_cookie(\x27WC_USERACTIVITY_\x27+thisId) \x3d\x3d null ) {\r\n\t\t\t\t\tthisId \x3d \x22\x22;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\r\n\t\t\tif (bt_cookie(\x27userType\x27) \x3d\x3d \x27R\x27 \x26\x26 thisId !\x3d \x22-1002\x22  \x26\x26 thisId !\x3d \x22\x22 \x26\x26 typeof thisId !\x3d \x27undefined\x27) {\r\n\t\t\t\treturn thisId;\r\n\t\t\t} else {\r\n\t\t\t\treturn \x22\x22;\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\treturn \x22\x22;\r\n\t\t}\r\n\t})();\r\n\r\n\tif (userType \x3d\x3d \x22G\x22){\r\n\t\treturn \x22guest\x22;\r\n\t}\r\n\r\n\tif (userType \x3d\x3d \x22R\x22 \x26\x26 authenticatedID !\x3d \x22\x22){\r\n\t\treturn \x22authenticated\x22;\r\n\t} else {\r\n\t\treturn \x22remembered\x22;\r\n\t}\r\n\r\n})();',{pageId:6988});
s.dbe('category name', '(function(){\r\n\tvar categoryHierarchy \x3d \x22\x22;\r\n\ttry {\r\n\t\tvar categoryHierarchyObj \x3d ANF.catalog.data.categoryHierarchyObj; \r\n\t} catch(e) { } \r\n\r\n\ttry {\r\n\t\tif (typeof categoryHierarchyObj !\x3d \x27undefined\x27) { \r\n\t\t\t$.each( ANF.catalog.data.categoryHierarchyObj, function (i, v){\r\n\t\t\t\tcategoryHierarchy +\x3d \x22|\x22+(v.enName || v.name);\r\n\t\t\t});\r\n\t\t} \r\n\t} catch(e) { } \r\n\r\n\tvar categoryString \x3d categoryHierarchy.replace(\x27|\x27,\x27\x27);\r\n\r\n\tvar thisCat \x3d \x22\x22;\r\n\ttry {\r\n\t\t thisCat \x3d categoryString.split(\x27|\x27).slice(-1).toString();\r\n\t} catch(e) { }\r\n\treturn thisCat.replace(/([\x27\x22])/g, \x22\x22);\r\n})();',{pageId:6988});
s.dbe('country code', '(function () {\r\n\tvar fromObject\x3d\x27\x27;\r\n\tvar fromURL\x3d\x27\x27;\r\n\tvar fromAttribute\x3d\x27\x27;\r\n\tvar baseKey \x3d \x27\x27;\r\n\tvar stepValue \x3d \x27\x27\r\n\tvar returnValue \x3d \x27\x27;\r\n\r\n\t//find possible values\r\n\ttry {\r\n\t\tfromURL \x3d bt_parameter(\x27storeId\x27);\r\n\t}catch(e){ //Do nothing;\r\n\t}\r\n\r\n\ttry {\r\n\t\tfromObject \x3d ANF.params.storeAttributes.storeId || ANF.params.storeAttributes.idList.storeId || ANF.catalog.data.storeId;\r\n\t}catch(e){ //Do nothing;\r\n\t}\r\n\r\n\ttry {\r\n\t\tfromAttribute \x3d $(\x27[data-store-id]\x27).attr(\x27data-store-id\x27);\r\n\t}catch(e){ //Do nothing;\r\n\t}\r\n\r\n\t//order of setting preference\r\n\tbaseKey \x3d fromObject || fromURL || fromAttribute || \x27\x27;\r\n\tbaseKey \x3d baseKey.toString();\r\n\tbaseKey \x3d baseKey.split(\x22,\x22)[0];\r\n\tbaseKey \x3d baseKey.split(\x22_\x22)[0];\r\n\r\n\r\n\t//interpret baseKey into something useful\r\n\t//ANF, HCO\r\n\tswitch (baseKey.toString()) {\r\n\t\tcase \x2710051\x27: case \x2710251\x27:  \r\n\t\t\tstepValue \x3d \x27us\x27;\r\n\t\t\tbreak;\r\n\t\tcase \x2711306\x27: case \x2711308\x27: \r\n\t\t\tstepValue \x3d \x27ca\x27;\r\n\t\t\tbreak;\r\n\t\tcase \x2719159\x27: case \x2719158\x27:\r\n\t\t\tstepValue \x3d \x27eu\x27;\r\n\t\t\tbreak;\r\n\t\tcase \x2719658\x27: case \x2719659\x27:\r\n\t\t\tstepValue \x3d \x27gb\x27;\r\n\t\t\tbreak;\r\n\t\tcase \x2711203\x27: case \x2711205\x27: \r\n\t\t\tstepValue \x3d \x27mx\x27;\r\n\t\t\tbreak;\r\n\t\tcase \x2721659\x27: case \x2721660\x27:\r\n\t\t\tstepValue \x3d \x27cn\x27;\r\n\t\t\tbreak;\r\n\t\tcase \x2721657\x27: case \x2721658\x27:\r\n\t\t\tstepValue \x3d \x27am\x27;\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tstepValue \x3d \x27country unavailable\x27;\r\n\t}\r\n\r\n\t//done determining value - assign returnValue \r\n\treturnValue \x3d stepValue\r\n\r\n\t//Any further processing\r\n\t//convert \x22am\x22 to country specific codes\r\n\tif (returnValue \x3d\x3d \x22am\x22) {\r\n\t\ttry {\r\n\t\t\tuPrefStore \x3d uPref.sf || uPref.shipTo || \x22\x22;\r\n\t\t\tuPrefStore \x3d uPrefStore.toLowerCase();\r\n\t\t\takaGeoLoc \x3d (function() {\r\n\t\t\t\tvar cookieVal \x3d bt_cookie(\x27geoLocation\x27);\r\n\t\t\t\tif (cookieVal.split(\x27:\x27).length \x3e 1) {\r\n\t\t\t\t\treturn cookieVal.split(\x27:\x27)[0];\r\n\t\t\t\t} else if (cookieVal !\x3d \x27\x27) {\r\n\t\t\t\t\treturn cookieVal;\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn \x27\x27;\r\n\t\t\t\t}\r\n\t\t\t})();\r\n\t\t\tif (uPrefStore\x3d\x3d\x22hk\x22) { return \x22hk\x22 }\r\n\t\t\tif (uPrefStore\x3d\x3d\x22jp\x22) { return \x22jp\x22 }\r\n\t\t\tif (uPrefStore\x3d\x3d\x22sg\x22) { return \x22sg\x22 }\r\n\t\t\tif (akaGeoLoc\x3d\x3d\x22hk\x22) { return \x22hk\x22 }\r\n\t\t\tif (akaGeoLoc\x3d\x3d\x22ja\x22) { return \x22ja\x22 }\r\n\t\t\tif (akaGeoLoc\x3d\x3d\x22sg\x22) { return \x22sg\x22 }\r\n\t\t} catch(e) { }\r\n\t}\r\n\r\n\t//Set return \r\n\treturn returnValue;\r\n})();',{pageId:6988});
s.dbe('first page hit indicator', '(function(){ \r\n\ttry {\r\n\t\treturn (bt_cookie(\x27s_sess\x27) \x3d\x3d \x27\x27); \r\n\t} catch(e) { return \x22false\x22; }\r\n})();',{pageId:6988});
s.dbe('rxvisitor id', '(function(){\n\treturn bt_cookie(\x27rxVisitor\x27);\n})();',{pageId:6988});
s.dbe('kustomer regional brand id', '(function(){ \n\tif (window.location.hostname.split(\x27.\x27)[0]\x3d\x3d\x22www\x22) {\n\t\treturn \x225eb9bcd16b33bb001a9a6afe\x22;\n\t} else {\n\t\treturn \x225f3eb731479db0001a507adb\x22;\n\t}\n})(); ',{pageId:8949});
s.dbe('store id', '(function () {\r\n\tvar fromObject\x3d\x27\x27;\r\n\tvar fromURL\x3d\x27\x27;\r\n\tvar fromAttribute\x3d\x27\x27;\r\n\tvar baseKey\x3d\x27\x27;\r\n\tvar stepValue\x3d\x27\x27\r\n\tvar returnValue\x3d\x27\x27;\r\n\r\n\t//find possible values\r\n\ttry {\r\n\t\tfromURL \x3d bt_parameter(\x27storeId\x27).split(\x27,\x27)[0];\r\n\t\tif (parseInt(fromURL)\x3e0 \x26\x26 fromURL.length \x3d\x3d 5) {\r\n\t\t\t// Do nothing\r\n\t\t} else {\r\n\t\t\tif (fromURL.length \x3e 5 \x26\x26 $.isNumeric(fromURL.substr(0,5))) {\r\n\t\t\t\tfromURL \x3d fromURL.substr(0,5);\r\n\t\t\t} else {\r\n                if (fromURL.length \x3e 0) {\r\n                    fromURL \x3d \x22storeid invalid\x22;\r\n                }\r\n\t\t\t}\r\n\t\t}\r\n\t}catch(e){ //Do nothing;\r\n\t}\r\n\r\n\ttry {\r\n\t\tfromObject \x3d ANF.params.storeAttributes.idList.storeId;\r\n\t}catch(e){ //Do nothing;\r\n\t}\r\n\r\n\ttry {\r\n\t\tfromAttribute \x3d $(\x27[data-store-id]\x27).attr(\x27data-store-id\x27);\r\n\t}catch(e){ //Do nothing;\r\n\t}\r\n\r\n\t//order of setting preference\r\n\tbaseKey \x3d fromObject || fromURL || fromAttribute || \x27\x27;\r\n\r\n\r\n\t//interpret baseKey into something useful\r\n\tstepValue \x3d baseKey;\r\n\r\n\t//done determining value - assign returnValue \r\n\treturnValue \x3d stepValue\r\n\r\n\t//Any further processing?\r\n\tif (returnValue\x3d\x3d\x27\x27 || returnValue\x3d\x3d\x22undefined\x22 || typeof returnValue\x3d\x3d\x22undefined\x22) {\r\n\t\treturnValue \x3d \x27storeid unavailable\x27;\r\n\t}\r\n\r\n\t//handle some cases where storeId is in the URL twice or just plain odd looking.\r\n\treturnValue \x3d returnValue.toString().split(\x22,\x22)[0];\r\n\treturnValue \x3d returnValue.toString().split(\x22_\x22)[0];\r\n\r\n\treturn returnValue;\r\n})();',{pageId:6988});
s.dbe('kustomer chat assistantid', '(function(){ \n\tif (window.location.hostname.split(\x27.\x27)[0]\x3d\x3d\x22www\x22) {\n\t\treturn \x22607897876f2d9f001a80ef61\x22;\n\t} else {\n\t\treturn \x22606b41aa4eb0c80019c03a97\x22;\n\t}\n})(); ',{pageId:8949});
s.dbe('kustomer chat brand id 2.0', '(function(){ \n\tif (window.location.hostname.split(\x27.\x27)[0]\x3d\x3d\x22www\x22) {\n\t\treturn \x225eb9bcd16b33bb001a9a6afe\x22;\n\t} else {\n\t\treturn \x225f3eb731479db0001a507adb\x22;\n\t}\n})();',{pageId:10567});
s.dbe('kustomer open', '(function(){\r\n\treturn 12;\r\n})();',{pageId:8949});
s.dbe('kustomer close', '(function(){\r\n\treturn 5;\r\n})();',{pageId:8949});
s.dbe('staging or production', '\x22Production\x22',{pageId:6991});
s.dbe('brand proper name', '\x22Hollister Co.\x22',{pageId:10567});
s.dbe('kustomer chat api key', '\x22eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVjYTYzMWIyYTc4NGY1MDA5NjRlNTc2NyIsInVzZXIiOiI1Y2E2MzFiMjU3M2ZmMzAwMWFhNjNlZmUiLCJvcmciOiI1YzJkMzIwODczMTAzNzAwMTkyMTE4ZDIiLCJvcmdOYW1lIjoiYWJlcmNyb21iaWUiLCJ1c2VyVHlwZSI6Im1hY2hpbmUiLCJyb2xlcyI6WyJvcmcudHJhY2tpbmciXSwiYXVkIjoidXJuOmNvbnN1bWVyIiwiaXNzIjoidXJuOmFwaSIsInN1YiI6IjVjYTYzMWIyNTczZmYzMDAxYWE2M2VmZSJ9.REaxxXEktmoPnidOIN2crru3hIT-A2vkC587cxmVbKE\x22',{pageId:6988});
s.dbe('subdomain', 'document.domain.split(\x22.\x22)[0]',{pageId:6988});
s.dbe('category hierarchy - delimited (,)', '(function(){\r\n\tvar categoryHierarchy \x3d [];\r\n\ttry {\r\n\t\tif (typeof bt_eval(\x27ANF.catalog.data.categoryHierarchyObj\x27) !\x3d \x27undefined\x27) { \r\n\t\t\t//Category and PDP pages\r\n\t\t\t$.each( ANF.catalog.data.categoryHierarchyObj, function (i, v){\r\n\t\t\t\tcategoryHierarchy.push(v.id);\r\n\t\t\t});\r\n\t\t}\r\n\t} catch(e) { } \r\n\r\n\treturn categoryHierarchy.toString();\r\n})();',{pageId:6988});
s.dbe('kustomer chat formid', '(function(){\r\n\tif (window.location.hostname.split(\x27.\x27)[0]\x3d\x3d\x22www\x22) {\r\n\t\treturn \x225ca6cbacb71cd2008fd1a308\x22;\r\n\t} else {\r\n\t\treturn \x22606b41aa4eb0c80019c03a97\x22;\r\n\t}\r\n})();',{pageId:8949});
s.domready(function(){
s.tag('\x3cstyle type\x3d\x22text/css\x22\x3e\n  /* Top nav Links */\n  #cat-61422897.rs-nav-item--minor{ display: none !important; }\n  #cat-62178431.rs-nav-item--minor{ display: none !important; }\n  #cat-6327333.rs-nav-item--minor{ display: none !important; }\n  #cat-6327345.rs-nav-item--minor{ display: none !important; }\n  #cat-61423849.rs-nav-item--minor{ display: none !important; }\n  #cat-62178558.rs-nav-item--minor{ display: none !important; }\n  #cat-6742702.rs-nav-item--minor{ display: none !important; }\n  #cat-6742698.rs-nav-item--minor{ display: none !important; }\n  #cat-6327352.rs-nav-item--minor{ display: none !important; }\n\x3c/style\x3e',{tagId:6698386});
s.tag('\x3cscript\x3e\n//load once and all all PDPs, Carts, and Order Confirmations\nconsole.log(\x27*** test tiktok retergeting\x27);\nif(sessionCap(\x27tiktok\x27,true) || \x22'+s.data('page type')+'\x22 \x3d\x3d\x22pdp\x22 || \x22'+s.data('page type')+'\x22\x3d\x3d\x22shopping cart\x22 || \x22'+s.data('page type')+'\x22\x3d\x3d\x22order confirmation\x22 || (\x22'+s.data('page type')+'\x22 \x3d\x3d \x22category\x22 \x26\x26 (\x22'+s.data('category id')+'\x22\x3d\x3d\x2264757759\x22 || \x22'+s.data('category id')+'\x22\x3d\x3d\x2264759986\x22))) {\n    \n    !function (w, d, t) {\n        w.TiktokAnalyticsObject\x3dt;var ttq\x3dw[t]\x3dw[t]||[];ttq.methods\x3d[\x22page\x22,\x22track\x22,\x22identify\x22,\x22instances\x22,\x22debug\x22,\x22on\x22,\x22off\x22,\x22once\x22,\x22ready\x22,\x22alias\x22,\x22group\x22,\x22enableCookie\x22,\x22disableCookie\x22],ttq.setAndDefer\x3dfunction(t,e){t[e]\x3dfunction(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}};for(var i\x3d0;i\x3cttq.methods.length;i++)ttq.setAndDefer(ttq,ttq.methods[i]);ttq.instance\x3dfunction(t){for(var e\x3dttq._i[t]||[],n\x3d0;n\x3cttq.methods.length;n++)ttq.setAndDefer(e,ttq.methods[n]);return e},ttq.load\x3dfunction(e,n){var i\x3d\x22https://analytics.tiktok.com/i18n/pixel/events.js\x22;ttq._i\x3dttq._i||{},ttq._i[e]\x3d[],ttq._i[e]._u\x3di,ttq._t\x3dttq._t||{},ttq._t[e]\x3d+new Date,ttq._o\x3dttq._o||{},ttq._o[e]\x3dn||{};var o\x3ddocument.createElement(\x22script\x22);o.type\x3d\x22text/javascript\x22,o.async\x3d!0,o.src\x3di+\x22?sdkid\x3d\x22+e+\x22\x26lib\x3d\x22+t;var a\x3ddocument.getElementsByTagName(\x22script\x22)[0];a.parentNode.insertBefore(o,a)};\n\n            var loadID \x3d \x27C0V7TT95A0R73RNS6V40\x27;\n            if(\x22'+s.data('brand name')+'\x22 \x3d\x3d \x27hollisterco\x27){\n                loadID \x3d \x27C0V7TT95A0R73RNS6V40\x27;\n            }else if(\x22'+s.data('brand name')+'\x22 \x3d\x3d \x27gillyhicks\x27){\n                loadID \x3d \x27C911OE9P0K9TKPOGHL70\x27;\n            }else if(\x22'+s.data('brand name')+'\x22 \x3d\x3d \x27socialtourist\x27){\n                loadID \x3d \x27C9128TE6LEB679H47LVG\x27;\n            }\n\n            ttq.load(loadID);\n            ttq.page();\n    \n            if (\x22'+s.data('page type')+'\x22 \x3d\x3d \x22category\x22 \x26\x26 (\x22'+s.data('category id')+'\x22\x3d\x3d\x2264757759\x22 || \x22'+s.data('category id')+'\x22\x3d\x3d\x2264759986\x22)) {\n                ttq.track(\x27Browse\x27);\n            }\n    \n    \n            if (\x22'+s.data('page type')+'\x22\x3d\x3d\x22pdp\x22) {\n                ttq.track(\x27ViewContent\x27);\n            }\n            \n            if (\x22'+s.data('page type')+'\x22\x3d\x3d\x22shopping cart\x22) {\n                ttq.track(\x27StartCheckout\x27);\n            }\n    \n            if (\x22'+s.data('page type')+'\x22\x3d\x3d\x22order confirmation\x22) {\n                ttq.track(\x27Purchase\x27,{\n                    contents: (function() {\n                        items \x3d [];\n                    \ttry {\n                    \t\tANF.models.cart.items.map(function(index,i){ \n                    \t\t\titems.push({\n                    \t\t\t\t\x27content_id\x27: index.item.kicId ,\n                    \t\t\t\t\x27content_type\x27: \x27product\x27,\n                    \t\t\t\t\x27quantity\x27: 1,\n                    \t\t\t\t\x27price\x27: index.item.offerPriceUSD\n                    \t\t\t});\n                    \t\t});\n                    \t} catch(e) { }\n                        return items;\n                    }()),\n                    value: parseFloat(\x22'+s.data('purchase total (usd)')+'\x22),\n                    currency: \x27USD\x27,\n                })\n                ttq.track(\x27CompletePayment\x27,{\n                    contents: (function() {\n                        items \x3d [];\n                    \ttry {\n                    \t\tANF.models.cart.items.map(function(index,i){ \n                    \t\t\titems.push({\n                    \t\t\t\t\x27content_id\x27: index.item.kicId ,\n                    \t\t\t\t\x27content_type\x27: \x27product\x27,\n                    \t\t\t\t\x27quantity\x27: 1,\n                    \t\t\t\t\x27price\x27: index.item.offerPriceUSD\n                    \t\t\t});\n                    \t\t});\n                    \t} catch(e) { }\n                        return items;\n                    }()),\n                    value: parseFloat(\x22'+s.data('purchase total (usd)')+'\x22),\n                    currency: \x27USD\x27,\n                })\n        }\n    }(window, document, \x27ttq\x27);\n}\n\x3c/script\x3e',{tagId:7474926});
s.tag('\x3cscript\x3e\nwindow.quantumData \x3d window.quantumData || {};\ntry {\n    quantumData.site \x3d {\n        brand : \x22'+s.data('brand code')+'\x22,\n        country : \x22'+s.data('country code')+'\x22,\n        language : \x22'+s.data('site language')+'\x22,\n        currency : \x22'+s.data('currency code')+'\x22\n    };\n} catch(e) { }\n\ntry {\n    quantumData.page \x3d {\n        campaignCode : \x22'+s.data('campaign code')+'\x22,\n        pageType : \x22'+s.data('page type')+'\x22,\n        pagePath : \x22'+s.data('sitecatalyst page path')+'\x22.replace(\x27:\x27,\x27\x27)\n    };\n    if (\x22'+s.data('first page hit indicator')+'\x22 \x3d\x3d \x22true\x22) {\n        try { quantumData.page.marketingChannel \x3d s._channel } catch(e) { }\n    }\n} catch(e) { }\n\ntry {\n    quantumData.user \x3d {\n        loyaltyTier : \x22'+s.data('loyalty info')+'\x22.split(\x27:\x27)[0]\n        ,loggedInStatus : \x22'+s.data('user authentication state')+'\x22\n        ,isApp : \x22'+s.data('ismobileapp')+'\x22\n    };\n} catch(e) { }\n\ntry {\n    quantumData.product \x3d {\n        name : \x22'+s.data('product name')+'\x22,\n        categoryName : \x22'+s.data('category name')+'\x22,\n        currentPrice : \x22'+s.data('product price')+'\x22,\n        priceFlag : \x22'+s.data('product price flag')+'\x22\n    };\n} catch(e) { }\n\ntry {\n    quantumData.cart \x3d {\n        valueUSD : \x22'+s.data('merch total (usd)')+'\x22,\n        numItems : \x22'+s.data('cart items')+'\x22\n    };\n} catch(e) { }\n\ntry {\n    quantumData.conversion \x3d {\n        isPurchase : (function(){ if (\x22'+s.data('page type')+'\x22 \x3d\x3d \x22order confirmation\x22) { return true } else { return false } })(),\n        paymentType : \x22'+s.data('payment type')+'\x22,\n        purchaseTotalLocal : \x22'+s.data('purchase total (local)')+'\x22,\n        purchaseSubtotalLocal : \x22'+s.data('purchase subtotal (local)')+'\x22,\n        promoCodes : \x22'+s.data('promo codes')+'\x22.split(\x27,\x27),\n        productNames : \x22'+s.data('product names - delimited (,)')+'\x22,\n        productIds : \x22'+s.data('product ids - delimited (,)')+'\x22\n    };\n} catch(e) { }\n\ntry {\n    quantumData.tests \x3d [];\n    quantumData.tests.push(BTanalytics.sc.v7 || \x22\x22);\n    quantumData.tests.push(BTanalytics.sc.v8 || \x22\x22);\n    quantumData.tests.push(BTanalytics.sc.v9 || \x22\x22);\n    quantumData.tests.push(BTanalytics.sc.v12 || \x22\x22);\n    quantumData.tests.push(BTanalytics.sc.v17 || \x22\x22);\n    quantumData.tests.push(BTanalytics.sc.v75 || \x22\x22);\n    quantumData.tests.push(BTanalytics.sc.c8 || \x22\x22);\n    quantumData.tests.push(BTanalytics.sc.c37 || \x22\x22);\n    try {\n        temp \x3d BTanalytics.sc.c38.split(\x27;\x27);\n        for (i\x3d0;i\x3ctemp.length;i++) {\n            quantumData.tests.push(temp[i]) ;\n        }\n        delete temp;\n    } catch(e){}\n    try {\n        temp \x3d BTanalytics.sc.c65.split(\x27\x26\x27);\n        for (i\x3d0;i\x3ctemp.length;i++) {\n            quantumData.tests.push(temp[i]) ;\n        }\n        delete temp;\n    } catch(e){}\n    quantumData.tests \x3d dedupeArray(quantumData.tests);\n} catch(e) { }\n\n(function() {\n    var qtm \x3d document.createElement(\x27script\x27); qtm.type \x3d \x27text/javascript\x27; qtm.async \x3d 1;\n    qtm.src \x3d \x27//cdn.quantummetric.com/qscripts/quantum-abercrombie.js\x27;\n    var d \x3d document.getElementsByTagName(\x27script\x27)[0];\n    !window.QuantumMetricAPI \x26\x26 d.parentNode.insertBefore(qtm, d);\n})();\n\x3c/script\x3e',{tagId:7476464});
s.tag('\x3cscript\x3e\ntry {\n    bt_log(\x27Kustomer Chat: 7500262\x27);\n\n    /* STEP 1: Determine if Chat Center is open, if this page supports chat, and if the user has already chatted this session or not */\n\n    KustomerSetupOptions \x3d {};\n    KustomerSetupOptions.isChatOpen \x3d false;\n    KustomerSetupOptions.isAllowChat \x3d false;\n    KustomerSetupOptions.isChatter \x3d false;\n    KustomerSetupOptions.today \x3d new Date()\n    KustomerSetupOptions.currentHour \x3d KustomerSetupOptions.today.getUTCHours(); //time of day in UTC\n    KustomerSetupOptions.currentDayOfMonth \x3d KustomerSetupOptions.today.getUTCDate(); //today\x27s date\n    KustomerSetupOptions.currentMonth \x3d KustomerSetupOptions.today.getUTCMonth() + 1; //the month number (1 indexed)\n    KustomerSetupOptions.currentDay \x3d KustomerSetupOptions.today.getUTCDay(); //0-indexed, Sunday\x3d\x3d0, Saturday\x3d\x3d6\n    KustomerSetupOptions.open \x3d parseFloat(\x22'+s.data('kustomer open')+'\x22);\n    KustomerSetupOptions.close \x3d parseFloat(\x22'+s.data('kustomer close')+'\x22);\n    KustomerSetupOptions.brand \x3d (function(){\n        if (\x22'+s.data('category hierarchy - delimited (,)')+'\x22.indexOf(\x226943170\x22) \x3e -1 || \x22'+s.data('category hierarchy - delimited (,)')+'\x22.indexOf(\x226943481\x22) \x3e -1) {\n            return \x22gilly\x22\n        } else if (\x22'+s.data('category hierarchy - delimited (,)')+'\x22.indexOf(\x2264757759\x22) \x3e -1 || \x22'+s.data('category hierarchy - delimited (,)')+'\x22.indexOf(\x2264759986\x22) \x3e -1) {\n            return \x22social tourist\x22\n        } else {\n            return \x22'+s.data('brand code')+'\x22;\n        }\n    })();\n    KustomerSetupOptions.pageName \x3d \x22'+s.data('brand code')+':'+s.data('country code')+s.data('sitecatalyst page path')+'\x22;\n\n//Hours of Operation Changes for days that are at least partially open on UTC date\n    //English Open 2300 instead of 1200 on November 25, 2021\n    if (\x22'+s.data('site language')+'\x22 \x3d\x3d \x22en\x22 \x26\x26 KustomerSetupOptions.currentMonth\x3d\x3d11 \x26\x26 KustomerSetupOptions.currentDayOfMonth \x3d\x3d 25) { KustomerSetupOptions.open \x3d 23 }\n\n    //Non-EN EU Call Center open 0800-1700 Dec 24\n    if ((\x22'+s.data('country code')+'\x22 \x3d\x3d \x22ca\x22 || \x22'+s.data('country code')+'\x22 \x3d\x3d \x22eu\x22) \x26\x26 \x22'+s.data('site language')+'\x22 !\x3d \x22en\x22 \x26\x26 KustomerSetupOptions.currentMonth\x3d\x3d12 \x26\x26 KustomerSetupOptions.currentDayOfMonth \x3d\x3d 24) {\n        KustomerSetupOptions.open \x3d 8;\n        KustomerSetupOptions.close\x3d17;\n    }\n\n    //EN Call Center open 1200-2400 Dec 26\n    if (\x22'+s.data('site language')+'\x22 \x3d\x3d \x22en\x22 \x26\x26 KustomerSetupOptions.currentMonth\x3d\x3d12 \x26\x26 KustomerSetupOptions.currentDayOfMonth \x3d\x3d 26) {\n        KustomerSetupOptions.open \x3d 12;\n        KustomerSetupOptions.close\x3d24;\n    }\n    \n    //US and World Spanish Call Center open 1200-2400 Dec 26\n    if ((\x22'+s.data('country code')+'\x22 \x3d\x3d \x22us\x22 || \x22'+s.data('country code')+'\x22 \x3d\x3d \x22mx\x22) \x26\x26 \x22'+s.data('site language')+'\x22 !\x3d \x22en\x22 \x26\x26 KustomerSetupOptions.currentMonth\x3d\x3d12 \x26\x26 KustomerSetupOptions.currentDayOfMonth \x3d\x3d 26) {\n        KustomerSetupOptions.open \x3d 12;\n        KustomerSetupOptions.close\x3d24;\n    }\n\n    //Non-EN EU Call Center open 0800-1700 Dec 31\n    if ((\x22'+s.data('country code')+'\x22 \x3d\x3d \x22ca\x22 || \x22'+s.data('country code')+'\x22 \x3d\x3d \x22eu\x22) \x26\x26 \x22'+s.data('site language')+'\x22 !\x3d \x22en\x22 \x26\x26 KustomerSetupOptions.currentMonth\x3d\x3d12 \x26\x26 KustomerSetupOptions.currentDayOfMonth \x3d\x3d 31) {\n        KustomerSetupOptions.open \x3d 8;\n        KustomerSetupOptions.close\x3d17;\n    }\n\n    //EN Call Center open 1200-2400 Jan 2\n    if (\x22'+s.data('site language')+'\x22 \x3d\x3d \x22en\x22 \x26\x26 KustomerSetupOptions.currentMonth\x3d\x3d1 \x26\x26 KustomerSetupOptions.currentDayOfMonth \x3d\x3d 2) {\n        KustomerSetupOptions.open \x3d 12;\n        KustomerSetupOptions.close\x3d24;\n    }\n    \n    //US and World Spanish Call Center open 1200-2400 Jan 2\n    if ((\x22'+s.data('country code')+'\x22 \x3d\x3d \x22us\x22 || \x22'+s.data('country code')+'\x22 \x3d\x3d \x22mx\x22) \x26\x26 \x22'+s.data('site language')+'\x22 !\x3d \x22en\x22 \x26\x26 KustomerSetupOptions.currentMonth\x3d\x3d1 \x26\x26 KustomerSetupOptions.currentDayOfMonth \x3d\x3d 2) {\n        KustomerSetupOptions.open \x3d 12;\n        KustomerSetupOptions.close\x3d24;\n    }\n    \n    //Shortened Hours for Chinese Chat (Typhoon Closure)\n    if (\x22'+s.data('site language')+'\x22 \x3d\x3d \x22zh\x22 \x26\x26 (KustomerSetupOptions.currentMonth\x3d\x3d7 \x26\x26 (KustomerSetupOptions.currentDayOfMonth\x3d\x3d24 || KustomerSetupOptions.currentDayOfMonth\x3d\x3d25 || KustomerSetupOptions.currentDayOfMonth\x3d\x3d26))) { \n        KustomerSetupOptions.open \x3d 1;\n        KustomerSetupOptions.close\x3d10;\n    }\n\n    KustomerSetupOptions.lang \x3d \x22'+s.data('site language')+'\x22;\n        if (\x22'+s.data('site language')+'\x22\x3d\x3d\x22zh\x22) {\n            if (\x22'+s.data('country code')+'\x22\x3d\x3d\x22cn\x22) {\n                KustomerSetupOptions.lang \x3d \x22zh_cn\x22;\n            } else {\n                KustomerSetupOptions.lang \x3d \x22zh_tw\x22;\n            }\n        }\n        if (\x22'+s.data('subdomain')+'\x22 \x3d\x3d \x22cert\x22 \x26\x26 \x22'+s.data('brand code')+'\x22 \x3d\x3d \x22hol\x22 \x26\x26 \x22'+s.data('country code')+'\x22 \x3d\x3d \x22us\x22 \x26\x26 \x22'+s.data('site language')+'\x22 \x3d\x3d \x22en\x22) {\n            KustomerSetupOptions.lang \x3d \x22en_us\x22;\n        }\n        \n    //KustomerSetupOptions.assistantId \x3d \x22'+s.data('kustomer chat assistantid')+'\x22;\n    //KustomerSetupOptions.brandId \x3d \x22'+s.data('kustomer chat brand id 2.0')+'\x22;\n    KustomerSetupOptions.brandId \x3d \x22'+s.data('kustomer regional brand id')+'\x22;\n    KustomerSetupOptions.DSTadjustment \x3d (function(){\n        var DSTadjustment \x3d false;\n        //Is the English Call Center observing Daylight Savings or not\n        if (\x22'+s.data('site language')+'\x22 \x3d\x3d \x22en\x22) { DSTadjustment \x3d true; }\n\n        //Is the NA Spanish Call Center observing Daylight Savings or not\n        if ((\x22'+s.data('country code')+'\x22 \x3d\x3d \x22us\x22 || \x22'+s.data('country code')+'\x22 \x3d\x3d \x22mx\x22) \x26\x26 \x22'+s.data('site language')+'\x22 \x3d\x3d \x22es\x22 ) { DSTadjustment \x3d true; }\n\n        //Is the EU Call Center observing Daylight Savings or not\n        if ((\x22'+s.data('country code')+'\x22 \x3d\x3d \x22ca\x22 || \x22'+s.data('country code')+'\x22 \x3d\x3d \x22eu\x22) \x26\x26 \x22'+s.data('site language')+'\x22 !\x3d \x22en\x22 ) { DSTadjustment \x3d true; }\n\n        //Adjust open \x26 closing times\n        if (DSTadjustment) {\n            //Default hours need to decrease by 1\n            //e.g., without DST, the English office is UTC-5. Since they open at 7am, this is 12 in UTC\n            //      with DST, the English office is UTC-4. Since they open at 7am, this is 11 in UTC time\n            //      to account for DST:\n            //      if the value is 0, we make it 23\n            //      all others decrease by 1\n            if (KustomerSetupOptions.open \x3d\x3d 0) { KustomerSetupOptions.open \x3d 23 } else { KustomerSetupOptions.open \x3d KustomerSetupOptions.open - 1 }\n            if (KustomerSetupOptions.close \x3d\x3d 0) { KustomerSetupOptions.close \x3d 23 } else { KustomerSetupOptions.close \x3d KustomerSetupOptions.close - 1 }\n        }\n        return DSTadjustment;\n    })();\n\n    KustomerSetupOptions.isChatOpen \x3d (function() {\n        /*\n                            UTC     US      EU      China   Japan\n                                    (UTC-5) (UTC+1) (UTC+8) (UTC+9)\n            English         12p-5a  7a-12a  x       x       x\n            German          7a-7p   x       8a-8p   x       x\n            Spanish EU      7a-7p   x       8a-8p   x       x\n            Spanish US/MX   12p-5a  7a-12a  x       x       x\n            French          7a-7p   x       8a-8p   x       x\n            Italian         8a-5p   x       9a-6p   x       x\n            Dutch           8a-5p   x       9a-6p   x       x\n            Chinese         0a-12p  x       x       8a-8p   x\n            Japanese        0a-8a   x       x       x       9a-5p\n        */\n\n        //return true;\n        \n        //EN Closed until further notice\n        //if (\x22'+s.data('site language')+'\x22 \x3d\x3d \x22en\x22) { return false; }\n        \n        //All Spanish closed \n        //if (\x22'+s.data('site language')+'\x22 \x3d\x3d \x22es\x22) { return false; }\n\n        //ZH Closed until further notice\n        //if (\x22'+s.data('site language')+'\x22 \x3d\x3d \x22zh\x22) { return false; }\n\n        //JA Closed until further notice\n        //if (\x22'+s.data('site language')+'\x22 \x3d\x3d \x22ja\x22) { return false; }\n        \n        //EU-ES closed until further notice\n        //if (\x22'+s.data('site language')+'\x22 \x3d\x3d \x22es\x22 \x26\x26 \x22'+s.data('country code')+'\x22 \x3d\x3d \x22eu\x22) { return false }\n        \n        //IT Closed until further notice\n        //if (\x22'+s.data('site language')+'\x22 \x3d\x3d \x22it\x22) { return false; }\n        \n        //DE Closed until further notice\n        //if (\x22'+s.data('site language')+'\x22 \x3d\x3d \x22de\x22) { return false; }\n        \n        //FR Closed until further notice\n        //if (\x22'+s.data('site language')+'\x22 \x3d\x3d \x22fr\x22) { return false; }\n        \n        //NL Closed until further notice (changed 3/14/22)\n        //if (\x22'+s.data('site language')+'\x22 \x3d\x3d \x22nl\x22) { return false; }\n        \n        /* Testing Values */\n        //KustomerSetupOptions.currentMonth \x3d 12\n        //KustomerSetupOptions.currentDayOfMonth \x3d 24\n        //KustomerSetupOptions.currentHour \x3d 23\n        \n    //Hard-Coded Open/Close inside isChatOpen\n        //ZH closed February 1 - lunar new year 2022\n        if (\x22'+s.data('site language')+'\x22 \x3d\x3d \x22zh\x22 \x26\x26 (KustomerSetupOptions.currentMonth\x3d\x3d2 \x26\x26 KustomerSetupOptions.currentDayOfMonth\x3d\x3d1)) { return false }\n\n        //ZH closed February 2 - lunar new year 2022\n        if (\x22'+s.data('site language')+'\x22 \x3d\x3d \x22zh\x22 \x26\x26 (KustomerSetupOptions.currentMonth\x3d\x3d2 \x26\x26 KustomerSetupOptions.currentDayOfMonth\x3d\x3d2)) { return false }\n\n        //ZH closed February 3 - lunar new year 2022\n        if (\x22'+s.data('site language')+'\x22 \x3d\x3d \x22zh\x22 \x26\x26 (KustomerSetupOptions.currentMonth\x3d\x3d2 \x26\x26 KustomerSetupOptions.currentDayOfMonth\x3d\x3d3)) { return false }\n\n        //ZH closed October 1\n        if (\x22'+s.data('site language')+'\x22 \x3d\x3d \x22zh\x22 \x26\x26 (KustomerSetupOptions.currentMonth\x3d\x3d10 \x26\x26 KustomerSetupOptions.currentDayOfMonth\x3d\x3d1)) { return false }\n\n        //ZH_TW closed weekends (0 and 6)\n        if (KustomerSetupOptions.lang \x3d\x3d \x22zh_tw\x22 \x26\x26 (KustomerSetupOptions.currentDay\x3d\x3d0 || KustomerSetupOptions.currentDay\x3d\x3d6)) { return false }\n\n        //JA closed weekends (0 and 6)\n        if (\x22'+s.data('site language')+'\x22 \x3d\x3d \x22ja\x22 \x26\x26 (KustomerSetupOptions.currentDay\x3d\x3d0 || KustomerSetupOptions.currentDay\x3d\x3d6)) { return false }\n\n        //EN open 24 hours on November 26\n        if (\x22'+s.data('site language')+'\x22 \x3d\x3d \x22en\x22 \x26\x26 KustomerSetupOptions.currentMonth\x3d\x3d11 \x26\x26 KustomerSetupOptions.currentDayOfMonth \x3d\x3d 26) { return true }\n        \n        //EN open 24 hours on November 27\n        if (\x22'+s.data('site language')+'\x22 \x3d\x3d \x22en\x22 \x26\x26 KustomerSetupOptions.currentMonth\x3d\x3d11 \x26\x26 KustomerSetupOptions.currentDayOfMonth \x3d\x3d 27) { return true }\n\n        //EN open 24 hours on November 28\n        if (\x22'+s.data('site language')+'\x22 \x3d\x3d \x22en\x22 \x26\x26 KustomerSetupOptions.currentMonth\x3d\x3d11 \x26\x26 KustomerSetupOptions.currentDayOfMonth \x3d\x3d 28) { return true }\n        \n        //EN open 24 hours on November 29\n        if (\x22'+s.data('site language')+'\x22 \x3d\x3d \x22en\x22 \x26\x26 KustomerSetupOptions.currentMonth\x3d\x3d11 \x26\x26 KustomerSetupOptions.currentDayOfMonth \x3d\x3d 29) { return true }\n\n        //US Call Center open 0000-0500 and 1200-2230 Dec 24\n        if (\x22'+s.data('site language')+'\x22 \x3d\x3d \x22en\x22 \x26\x26 KustomerSetupOptions.currentMonth\x3d\x3d12 \x26\x26 KustomerSetupOptions.currentDayOfMonth \x3d\x3d 24) {\n            if (KustomerSetupOptions.currentHour \x3e\x3d 0 \x26\x26 KustomerSetupOptions.currentHour \x3c 5) { KustomerSetupOptions.open \x3d 0; KustomerSetupOptions.close\x3d5; return true; }\n            if (KustomerSetupOptions.currentHour \x3e\x3d 5 \x26\x26 KustomerSetupOptions.currentHour \x3c 12) { KustomerSetupOptions.open \x3d 5; KustomerSetupOptions.close\x3d22; return false; }\n            if (KustomerSetupOptions.currentHour \x3e\x3d 12 \x26\x26 KustomerSetupOptions.currentHour \x3c 22) { KustomerSetupOptions.open \x3d 12; KustomerSetupOptions.close\x3d22; return true; }\n            if (KustomerSetupOptions.currentHour \x3e\x3d 22) { KustomerSetupOptions.open \x3d 22; KustomerSetupOptions.close\x3d24; return false; }\n        }\n\n        if ((\x22'+s.data('country code')+'\x22 \x3d\x3d \x22us\x22 || \x22'+s.data('country code')+'\x22 \x3d\x3d \x22mx\x22) \x26\x26 \x22'+s.data('site language')+'\x22 !\x3d \x22en\x22 \x26\x26 KustomerSetupOptions.currentMonth\x3d\x3d12 \x26\x26 KustomerSetupOptions.currentDayOfMonth \x3d\x3d 24) {\n            if (KustomerSetupOptions.currentHour \x3e\x3d 0 \x26\x26 KustomerSetupOptions.currentHour \x3c 5) { KustomerSetupOptions.open \x3d 0; KustomerSetupOptions.close\x3d5; return true; }\n            if (KustomerSetupOptions.currentHour \x3e\x3d 5 \x26\x26 KustomerSetupOptions.currentHour \x3c 12) { KustomerSetupOptions.open \x3d 5; KustomerSetupOptions.close\x3d22; return false; }\n            if (KustomerSetupOptions.currentHour \x3e\x3d 12 \x26\x26 KustomerSetupOptions.currentHour \x3c 22) { KustomerSetupOptions.open \x3d 12; KustomerSetupOptions.close\x3d22; return true; }\n            if (KustomerSetupOptions.currentHour \x3e\x3d 22) { KustomerSetupOptions.open \x3d 22; KustomerSetupOptions.close\x3d24; return false; }\n        }\n\n        //EN Call Center closed Dec 25\n        if (\x22'+s.data('site language')+'\x22 \x3d\x3d \x22en\x22 \x26\x26 KustomerSetupOptions.currentMonth\x3d\x3d12 \x26\x26 KustomerSetupOptions.currentDayOfMonth \x3d\x3d 25) { return false }\n\n        //SP-NA Call Center closed Dec 25\n        if ((\x22'+s.data('country code')+'\x22 \x3d\x3d \x22us\x22 || \x22'+s.data('country code')+'\x22 \x3d\x3d \x22mx\x22) \x26\x26 \x22'+s.data('site language')+'\x22 \x3d\x3d \x22es\x22 \x26\x26 KustomerSetupOptions.currentMonth\x3d\x3d12 \x26\x26 KustomerSetupOptions.currentDayOfMonth \x3d\x3d 25) { return false }\n\n        //EU Call Center closed Dec 25\n        if ((\x22'+s.data('country code')+'\x22 \x3d\x3d \x22ca\x22 || \x22'+s.data('country code')+'\x22 \x3d\x3d \x22eu\x22) \x26\x26 \x22'+s.data('site language')+'\x22 !\x3d \x22en\x22 \x26\x26 KustomerSetupOptions.currentMonth\x3d\x3d12 \x26\x26 KustomerSetupOptions.currentDayOfMonth \x3d\x3d 25) { return false }\n\n\t\t//EN Call Center and non-EN US Call Center open 0000-0500 and 1200-2230 Dec 31\n\t\tif (\x22'+s.data('site language')+'\x22 \x3d\x3d \x22en\x22 \x26\x26 KustomerSetupOptions.currentMonth\x3d\x3d12 \x26\x26 KustomerSetupOptions.currentDayOfMonth \x3d\x3d 31) {\n\t\t\tif (KustomerSetupOptions.currentHour \x3e\x3d 0 \x26\x26 KustomerSetupOptions.currentHour \x3c 5) { KustomerSetupOptions.open \x3d 0; KustomerSetupOptions.close\x3d5; return true; }\n\t\t\tif (KustomerSetupOptions.currentHour \x3e\x3d 5 \x26\x26 KustomerSetupOptions.currentHour \x3c 12) { KustomerSetupOptions.open \x3d 5; KustomerSetupOptions.close\x3d22; return false; }\n\t\t\tif (KustomerSetupOptions.currentHour \x3e\x3d 12 \x26\x26 KustomerSetupOptions.currentHour \x3c 22) { KustomerSetupOptions.open \x3d 12; KustomerSetupOptions.close\x3d22; return true; }\n\t\t\tif (KustomerSetupOptions.currentHour \x3e\x3d 22) { KustomerSetupOptions.open \x3d 22; KustomerSetupOptions.close\x3d24; return false; }\n\t\t}\n\n\t\tif ((\x22'+s.data('country code')+'\x22 \x3d\x3d \x22us\x22 || \x22'+s.data('country code')+'\x22 \x3d\x3d \x22mx\x22) \x26\x26 \x22'+s.data('site language')+'\x22 !\x3d \x22en\x22 \x26\x26 KustomerSetupOptions.currentMonth\x3d\x3d12 \x26\x26 KustomerSetupOptions.currentDayOfMonth \x3d\x3d 31) {\n\t\t\tif (KustomerSetupOptions.currentHour \x3e\x3d 0 \x26\x26 KustomerSetupOptions.currentHour \x3c 5) { KustomerSetupOptions.open \x3d 0; KustomerSetupOptions.close\x3d5; return true; }\n\t\t\tif (KustomerSetupOptions.currentHour \x3e\x3d 5 \x26\x26 KustomerSetupOptions.currentHour \x3c 12) { KustomerSetupOptions.open \x3d 5; KustomerSetupOptions.close\x3d22; return false; }\n\t\t\tif (KustomerSetupOptions.currentHour \x3e\x3d 12 \x26\x26 KustomerSetupOptions.currentHour \x3c 22) { KustomerSetupOptions.open \x3d 12; KustomerSetupOptions.close\x3d22; return true; }\n\t\t\tif (KustomerSetupOptions.currentHour \x3e\x3d 22) { KustomerSetupOptions.open \x3d 22; KustomerSetupOptions.close\x3d24; return false; }\n\t\t}\n\n        //EN Call Center closed Jan 1\n        if (\x22'+s.data('site language')+'\x22 \x3d\x3d \x22en\x22 \x26\x26 KustomerSetupOptions.currentMonth\x3d\x3d1 \x26\x26 KustomerSetupOptions.currentDayOfMonth \x3d\x3d 1) { return false }\n\n        //SP-NA Call Center closed Jan 1\n        if ((\x22'+s.data('country code')+'\x22 \x3d\x3d \x22us\x22 || \x22'+s.data('country code')+'\x22 \x3d\x3d \x22mx\x22) \x26\x26 \x22'+s.data('site language')+'\x22 \x3d\x3d \x22es\x22 \x26\x26 KustomerSetupOptions.currentMonth\x3d\x3d1 \x26\x26 KustomerSetupOptions.currentDayOfMonth \x3d\x3d 1) { return false }\n\n        //EU Call Center closed Jan 1\n        if ((\x22'+s.data('country code')+'\x22 \x3d\x3d \x22ca\x22 || \x22'+s.data('country code')+'\x22 \x3d\x3d \x22eu\x22) \x26\x26 \x22'+s.data('site language')+'\x22 !\x3d \x22en\x22 \x26\x26 KustomerSetupOptions.currentMonth\x3d\x3d1 \x26\x26 KustomerSetupOptions.currentDayOfMonth \x3d\x3d 1) { return false }\n\t\t\n        //JA Call Center closed Jan 1\n        if (\x22'+s.data('site language')+'\x22 \x3d\x3d \x22ja\x22 \x26\x26 KustomerSetupOptions.currentMonth\x3d\x3d1 \x26\x26 KustomerSetupOptions.currentDayOfMonth \x3d\x3d 1) { return false }\n\n        //ZH_TW Call Center closed Jan 1\n        if (KustomerSetupOptions.lang \x3d\x3d \x22zh_tw\x22 \x26\x26 KustomerSetupOptions.currentMonth\x3d\x3d1 \x26\x26 KustomerSetupOptions.currentDayOfMonth \x3d\x3d 1) { return false }\n\n        //ZH_CN Call Center closed Jan 1\n        if (KustomerSetupOptions.lang \x3d\x3d \x22zh_cn\x22 \x26\x26 KustomerSetupOptions.currentMonth\x3d\x3d1 \x26\x26 KustomerSetupOptions.currentDayOfMonth \x3d\x3d 1) { return false }\n        \n        //FR closed weekends (0 and 6)\n        //if (\x22'+s.data('site language')+'\x22 \x3d\x3d \x22fr\x22 \x26\x26 (KustomerSetupOptions.currentDay\x3d\x3d0 || KustomerSetupOptions.currentDay\x3d\x3d6)) { return false }\n\n        //EU-ES closed weekends (0 and 6)\n        //if (\x22'+s.data('site language')+'\x22 \x3d\x3d \x22es\x22 \x26\x26 \x22'+s.data('country code')+'\x22 \x3d\x3d \x22eu\x22 \x26\x26(KustomerSetupOptions.currentDay\x3d\x3d0 || KustomerSetupOptions.currentDay\x3d\x3d6)) { return false }\n\n        //DE closed Sunday (0)\n        //if (\x22'+s.data('site language')+'\x22 \x3d\x3d \x22de\x22 \x26\x26 (KustomerSetupOptions.currentDay\x3d\x3d0)) { return false }\n\n        //IT closed weekends (0 and 6)\n        if (\x22'+s.data('site language')+'\x22 \x3d\x3d \x22it\x22 \x26\x26 (KustomerSetupOptions.currentDay\x3d\x3d0 || KustomerSetupOptions.currentDay\x3d\x3d6)) { return false }\n\n        //NL closed weekends (0 and 6)\n        if (\x22'+s.data('site language')+'\x22 \x3d\x3d \x22nl\x22 \x26\x26 (KustomerSetupOptions.currentDay\x3d\x3d0 || KustomerSetupOptions.currentDay\x3d\x3d6)) { return false }\n        \n        if (KustomerSetupOptions.close \x3e KustomerSetupOptions.open) {\n            if (KustomerSetupOptions.currentHour \x3e\x3d KustomerSetupOptions.open \x26\x26 KustomerSetupOptions.currentHour \x3c KustomerSetupOptions.close) { return true; } else { return false; }\n        } else {\n            if (KustomerSetupOptions.currentHour \x3e\x3d KustomerSetupOptions.open || KustomerSetupOptions.currentHour \x3c KustomerSetupOptions.close) { return true; } else { return false; }\n        }\n        return false;\n    })();\n    \n    //Force Chat to be open in testing environments\n    if (\x22'+s.data('staging or production')+'\x22 \x3d\x3d \x22Staging\x22) {\n        KustomerSetupOptions.isChatOpen \x3d true;\n    }\n\n    if (!KustomerSetupOptions.isChatOpen) {\n        bt_log(\x27Kustomer Chat is closed\x27);\n        //remove the Chat Now link on Help pages\n        $(\x27.help-chat-button-container\x27).remove();\n        //remove the Chat Now link on Checkout pages\n        $(\x27.shopping-bag-chat-button\x27).remove()\n    }\n\n    KustomerSetupOptions.isChatter \x3d (function() {\n        //Only proceed if it is less than 1 hour after closing time\n        if (KustomerSetupOptions.close \x3e KustomerSetupOptions.open) {\n            // 9-5: now is after 0900 AND less than 0600\n            if (KustomerSetupOptions.currentHour \x3e\x3d KustomerSetupOptions.open \x26\x26 KustomerSetupOptions.currentHour \x3c (KustomerSetupOptions.close + 1)) { } else { return false; }\n        } else {\n            // 12 - 5am: now is after 1200 OR less than 0600 \n            if (KustomerSetupOptions.currentHour \x3e\x3d KustomerSetupOptions.open || KustomerSetupOptions.currentHour \x3c (KustomerSetupOptions.close + 1)) { } else { return false; }\n        }\n\n        try {\n            if (BTanalytics.chatter \x3d\x3d \x22true\x22) {\n                return true\n            }\n        } catch (e) {}\n        return false;\n    })();\n\n    KustomerSetupOptions.isAllowChat \x3d (function() {\n        try {\n            /* allows us to not show chat on the following pages unless they are already chatting */\n            //if (\x22'+s.data('site language')+'\x22\x3d\x3d\x22en\x22\x26\x26\x22'+s.data('page type')+'\x22!\x3d\x22help\x22){return false;}\n\n            if (\x22'+s.data('page type')+'\x22 \x3d\x3d \x22homepage\x22) { return false; }\n            if (\x22'+s.data('page type')+'\x22 \x3d\x3d \x22checkout\x22) { return false; }\n            if (\x22'+s.data('sitecatalyst page path')+'\x22 \x3d\x3d \x22:customfierce\x22) { return false; }\n            if (window.location.href.indexOf(\x27/FastEnroll\x27) \x3e -1) { return false; }\n            //if (\x22'+s.data('site language')+'\x22 \x3d\x3d \x22en\x22 \x26\x26 \x22'+s.data('page type')+'\x22 !\x3d \x22help\x22) { return false; }\n            return true;\n        } catch (e) {\n            return false;\n        }\n    })();\n\n    /* STEP 2: if chat should be exposed on this page, set up chat related handlers including loading chat and opening the chat window */\n        //Set up Chat config stuff\n        var $chatBubble \x3d $(\x27.chat-icon-button\x27);\n        var $chatContainer \x3d $(\x27.chat-icon-button-container\x27);\n\n        /* useDefaultChatBubble can be set to return boolean false once code is everywhere */\n        var useDefaultChatBubble \x3d (function() {\n            if ($chatBubble.length \x3e 0) {\n                return false;\n            } else {\n                return true;\n            }\n        })();\n\n        function openChat() {\n            /* remove spinner */\n            $(ANF).trigger(\x27kustomerChat:loaded\x27); //kill the spinner\n            /* remove unread message indicator */\n            $chatContainer.removeClass(\x27has-unread-messages\x27);\n            /* open the chat window */\n\t\t\tKustomer.getOpenConversations(function(conversations, error) {\n\t\t\t\tbt_log(\x27open conversations:\x27+conversations.length);\n\t\t\t\tif (conversations.length\x3e0) {\n\t\t\t\t\tKustomer.openConversationById({ conversationId: conversations[0].conversationId})\n\t\t\t\t} else {\n\t\t\t\t    bt_log(\x27creatign chat with KustomerSetupOptions.assistantId\x3d\x27+KustomerSetupOptions.assistantId);\n\t\t\t\t\tKustomer.createConversation({\n\t\t\t\t\t\tassistantId: KustomerSetupOptions.assistantId\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t})\n            //Kustomer.open();\n            try {\n                /* record that the user has engaged with chat */\n                $(window).trigger(\x27analytics.kustomerChat\x27);\n                BTanalytics.chatter \x3d \x27true\x27;\n                saveBTanalytics();\n            } catch (e) {}\n\n            //If messages exist, handle it now\n            window.setTimeout(function() {\n                handleMessages();\n            }, 100);\n\n            //Add Mutation Listener Here\n            window.setTimeout(function() {\n                handleMutation();\n            }, 100);\n        }\n\n        function loadKustomerChat(openMe) {\n            bt_log(\x27inside loadKustomerChat with openMe\x3d\x27+openMe);\n            if (typeof bt_eval(\x27Kustomer.open\x27) \x3d\x3d \x22undefined\x22) {\n                /* Detect when the library actually loads */\n                $(window).on(\x27kustomerLoaded\x27, function(event, data){\n                    bt_log(\x27Kustomer loaded\x27);\n                    Kustomer.start({\n                            new: true\n                            ,brandId: KustomerSetupOptions.brandId\n                            ,hideChatIcon: !useDefaultChatBubble\n                            ,lang: KustomerSetupOptions.lang\n                            //,allowZoom: true,\n                            //,form: \x22'+s.data('kustomer chat formid')+'\x22\n                            ,assistantId: KustomerSetupOptions.assistantId\n                            ,hideHistory:true\n                            //,hideNewConversationButtonOnHistory:true\n                        }, function(settings) {\n                            bt_log(\x27inside Kustomer.start settings\x27);\n                            Kustomer.addListener(\x27onUnread\x27, function(res){\n                                try {\n                                    count \x3d response.change.number;\n                                } catch(e) {\n                                    count \x3d 0;\n                                }\n                                //bt_log(\x27Kustomer says unread msgs count\x3d\x27+count);\n                                if (count \x3e 0) {\n                                    $chatContainer.addClass(\x27has-unread-messages\x27);\n                                    var expected \x3d (function() {\n                                        try {\n                                            return ANF.messaging.account.GLB_CHATBUTTON_NEWMESSAGE\n                                        } catch (e) {\n                                            return \x22\x22;\n                                        }\n                                    })();\n                                    document.dispatchEvent(new CustomEvent(\x27setPoliteText\x27, {\n                                        detail: expected\n                                    }));\n                                }\n                                if (count \x3d\x3d 0) {\n                                    $chatContainer.removeClass(\x27has-unread-messages\x27);\n                                }\n                                //If messages exist, handle it now\n                                $(ANF).trigger(\x27kustomerChat:loaded\x27); //kill the spinner\n                                //bt_log(\x22called $(ANF).trigger(\x27kustomerChat:loaded\x27)\x22);\n                                handleMessages();\n                                handleMutation();\n                            });\n                            Kustomer.addListener(\x27onConversationCreate\x27, function(res){\n                                bt_log(\x27inside onConversationCreate\x27);\n                                Kustomer.describeConversation({\n                                    conversationId: res.conversationId,\n                                    customAttributes: {\n                                        chatLocationStr: bt_cookie(\x27geoLocation\x27)\n                                        ,pageNameStr: KustomerSetupOptions.pageName\n                                        ,pageTypeStr: \x22'+s.data('page type')+'\x22\n                                        ,pdpDeptIdStr: \x22'+s.data('product long sku')+'\x22.split(\x22-\x22)[0]\n                                        ,brandStr: \x22'+s.data('brand proper name')+'\x22\n                                        ,regionStr: (function() {\n                                            if (\x22'+s.data('country code')+'\x22 \x3d\x3d \x22mx\x22) {\n                                                return \x22world\x22;\n                                            } else if (\x22'+s.data('country code')+'\x22 \x3d\x3d \x22gb\x22) {\n                                                return \x22uk\x22;\n                                            } else {\n                                                return \x22'+s.data('country code')+'\x22;\n                                            }\n                                        })()\n                                        ,webstoreIdStr: \x22'+s.data('store id')+'\x22\n                                        ,sessionIdStr: \x22'+s.data('rxvisitor id')+'\x22\n                                        ,brandCollectionStr: KustomerSetupOptions.brand\n                                    }\n                                });\n                            });\n                            if (openMe) {\n                                openChat();\n                            }\n                        });\n\n                });\n                \n\t\t\t\t/* Load the library */\n                bt_log(\x27creating Kustomer script element\x27);\n                var script \x3d document.createElement(\x27script\x27);\n                script.src \x3d \x27https://cdn.kustomerapp.com/chat-web/widget.js\x27;\n                script.setAttribute(\x27data-kustomer-api-key\x27, \x27'+s.data('kustomer chat api key')+'\x27);\n                window.document.body.appendChild(script);\n\n            } else {\n                bt_log(\x27No need to load library? typeof Kustomer\x3d\x3d\x27 + typeof Kustomer);\n                if (openMe) {\n                    openChat();\n                }\n            }\n        };\n\n        function clickKustomerChatBubble() {\n            //bt_log(\x27inside clickKustomerChatBubble\x27);\n            loadKustomerChat(true);\n        }\n\n        function handleMessages() {\n            /* when messages exist, need to mark the container with \x22active-chat\x22 */\n            //bt_log(\x27checking for messages\x27);\n            numMessages \x3d $(\x27.userMessage, .customerMessage\x27).length;\n            var $container \x3d $(\x27.kustomer-app-container\x27);\n            if (numMessages \x3e 0) {\n                //bt_log(\x27add class to container here\x27);\n                $container.addClass(\x27active-chat\x27);\n            }\n        }\n\n        function handleMutation() {\n            /* age-gate messages do not beget the \x22unread\x22 trigger, so we have to listen for mutations to the chat window to detect them */\n            //bt_log(\x27handleMutation called\x27);\n            if ($(\x27.kustomer-app-thread div\x27).length \x3e 0 \x26\x26 $(\x27.kustomer-app-container.active-chat\x27).length \x3d\x3d 0) {\n                //bt_log(\x27adding a mutation observer\x27);\n                var $target;\n                var config \x3d {\n                    childList: true,\n                    subtree: true\n                };\n\n                var callback \x3d function(mutationList, observer) {\n                    mutationList.forEach(function(mutation) {\n                        //bt_log(\x27mutation detected of type:\x27+mutation.type);\n                        if (mutation.type \x3d\x3d \x27childList\x27) {\n                            handleMessages();\n                        }\n                    });\n                }\n\n                var observer \x3d new MutationObserver(callback);\n\n                window.setTimeout(function() {\n                    $target \x3d document.querySelector(\x27.kustomer-app-thread div\x27);\n                    observer.observe($target, config);\n                }, 100);\n            } else {\n                //bt_log(\x27not adding a mutation observer\x27);\n            }\n        }\n\n        $(\x27#kustomer-root\x27).on(\x27click\x27, \x27.kustomer-app-header-close-button\x27, function() {\n            /* just in case in case \x22new messages\x22 is turned on */\n            $chatContainer.removeClass(\x27has-unread-messages\x27);\n        });\n\n        $(\x27#kustomer-root\x27).on(\x27click\x27, \x27.kustomer-app-new-conversation-button\x27, function() {\n            $(\x27.kustomer-app-container\x27).removeClass(\x27active-chat\x27);\n        });\n\n        $(\x27#kustomer-root\x27).on(\x27click\x27, \x27.messageInput\x27, function() {\n            handleMutation();\n        });\n\n        $chatBubble.on(\x27click\x27, function() {\n            //Customer clicked on the chat bubble\n            //IT controls chatButtonFn which turns the button into a spinner while Kustomer loads\n            clickKustomerChatBubble();\n        });\n\n    if ((KustomerSetupOptions.isChatOpen \x26\x26 KustomerSetupOptions.isAllowChat) || KustomerSetupOptions.isChatter) {\n        //Chat may auto-open, so let\x27s check for messages and add mutation listener\n        handleMessages();\n        handleMutation();\n\n        if (KustomerSetupOptions.isChatter) {\n            //Customer chatting on a previous page, so load chat\n            loadKustomerChat();\n        }\n        /* everything set up, let\x27s let them see the chat button */\n        if (\x22'+s.data('sitecatalyst page path')+'\x22 !\x3d \x22:help:help\x22) {\n            /* Do not show the chat bubble on HELP, there is a link they click instead */\n            $chatContainer.addClass(\x27show-icon\x27);\n        }\n\n    } else {\n        bt_log(\x27Kustomer Chat not installed on this page\x27);\n        bt_log(\x27KustomerSetupOptions.isChatOpen \x3d \x27+KustomerSetupOptions.isChatOpen);\n        bt_log(\x27KustomerSetupOptions.isAllowChat \x3d \x27+KustomerSetupOptions.isAllowChat);\n        bt_log(\x27KustomerSetupOptions.isChatter \x3d \x27+KustomerSetupOptions.isChatter);\n    }\n} catch (e) {\n    bt_log(\x27Kustomer Chat failed to run properly\x27);\n}\n\x3c/script\x3e',{tagId:7500262});
s.tag('\x3cimg height\x3d\x221\x22 width\x3d\x221\x22 style\x3d\x22border-style:none;\x22 alt\x3d\x22\x22 src\x3d\x22https://insight.adsrvr.org/track/pxl/?adv\x3dh1lwvke\x26ct\x3d0:e0muzyf\x26fmt\x3d3\x22/\x3e\n',{tagId:7508930});
});
});
