BrightTag.site('Qpejd48',function(s){
s.dbe('product color code', '(function(){\r\n  try {\r\n    return $(\x27input[name\x3dcseq]:first\x27).val() || \x22\x22;\r\n  } catch(e) {}\r\n})();',{pageId:6988});
s.dbe('category hierarchy names - delimited (|)', '(function(){\r\n\tvar categoryHierarchy \x3d [];\r\n\ttry {\r\n\t\tvar categoryHierarchyObj \x3d ANF.catalog.data.categoryHierarchyObj; \r\n\t} catch(e) { } \r\n\r\n\ttry {\r\n\t\tif (typeof categoryHierarchyObj !\x3d \x27undefined\x27) { \r\n\t\t\t$.each( ANF.catalog.data.categoryHierarchyObj, function (i, v){\r\n\t\t\t\tvar thisName \x3d v.enName || v.name\r\n\t\t\t\tthisName \x3d thisName.toLowerCase();\r\n\t\t\t\tif (thisName !\x3d \x22anf\x22 \x26\x26 thisName !\x3d \x22hol\x22 \x26\x26 thisName !\x3d \x22kids\x22 \x26\x26 thisName !\x3d \x22\x22) {\r\n\t\t\t\t\tcategoryHierarchy.push(thisName);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} \r\n\t} catch(e) { } \r\n\r\n\treturn categoryHierarchy.join(\x27|\x27).replace(/([\x27\x22])/g, \x22\x22);\r\n})();',{pageId:6988});
s.dbe('page type', '(function(){\r\n\ttry {\r\n\t\tvar thisPageType \x3d digitalData.get(\x27page.pageKind\x27);\r\n\t\t\r\n\t\tif(thisPageType !\x3d\x3d undefined \x26\x26 thisPageType !\x3d\x3d \x22\x22 ) {\r\n\t\t\tbt_log(\x27digitalData used to create pageType\x27);\r\n\t\t\treturn thisPageType ;\r\n\t\t} else {\r\n\t\t\treturn \x22homepage\x22;\r\n\t\t}\r\n\t} catch(e) {\r\n\t\treturn \x22digitalDataBroken\x22;\r\n\t}\r\n})();',{pageId:6998});
s.domready(function(){
s.tag('\x3cscript type\x3d\x27text/javascript\x27\x3e\nbt_log(\x27movable ink 534345\x27);\nif (\x22'+s.data('page type')+'\x22 \x3d\x3d \x22category\x22) {\n    try {\n        miPageView \x3d {};\n        miPageView.detail \x3d {};\n        miPageView.detail.pageType \x3d \x27category\x27;\n        miPageView.detail.clickThroughURL \x3d window.location.href.split(\x27?\x27)[0];\n        miPageView.detail.categoryHierarchy \x3d \x22'+s.data('category hierarchy names - delimited (|)')+'\x22;\n        //var miCategoryPageView \x3d new CustomEvent(\x22miCategoryPageView\x22, miPageView);\n        //window.dispatchEvent(miCategoryPageView);\n    } catch(e) { }\n}\n\nif (\x22'+s.data('page type')+'\x22 \x3d\x3d \x22search\x22) {\n    try {\n        miPageView \x3d {};\n        miPageView.detail \x3d {};\n        miPageView.detail.pageType \x3d \x27search\x27;\n        miPageView.detail.clickThroughURL \x3d window.location.href;\n        miPageView.detail.searchTerm \x3d \x22'+s.data('search results keyword (as entered)')+'\x22;\n        //var miSearchPageView \x3d new CustomEvent(\x22miSearchPageView\x22, miPageView);\n        //window.dispatchEvent(miSearchPageView);\n    } catch(e) { }\n}\n\nif (\x22'+s.data('page type')+'\x22 \x3d\x3d \x22pdp\x22) {\n    try {\n        miProductView \x3d {};\n        miProductView.detail \x3d {};\n        miProductView.detail.longSKU \x3d \x22'+s.data('product long sku')+'\x22;\n        miProductView.detail.name \x3d \x22'+s.data('product name')+'\x22;\n        miProductView.detail.price \x3d \x22'+s.data('product price')+'\x22;\n        miProductView.detail.longSKU \x3d \x22'+s.data('product long sku')+'\x22;\n        miProductView.detail.clickThroughURL \x3d $(\x27link[rel\x3d\x22canonical\x22]\x27).attr(\x27href\x27) + \x27?\x27;\n        if (bt_parameter(\x27categoryId\x27)!\x3d\x22\x22) {\n            miProductView.detail.clickThroughURL +\x3d \x27\x26categoryId\x3d\x27 + bt_parameter(\x27categoryId\x27);\n        }\n        if (bt_parameter(\x27seq\x27)!\x3d\x22\x22) {\n            miProductView.detail.clickThroughURL +\x3d \x27\x26seq\x3d\x27 + bt_parameter(\x27seq\x27);\n        }\n        if (bt_parameter(\x27faceout\x27)!\x3d\x22\x22) {\n            miProductView.detail.clickThroughURL +\x3d \x27\x26faceout\x3d\x27 + bt_parameter(\x27faceout\x27);\n        }\n        miProductView.detail.colorCode \x3d \x22'+s.data('product color code')+'\x22;\n        miProductView.detail.categoryHierarchy \x3d \x22'+s.data('category hierarchy names - delimited (|)')+'\x22;\n        //var miProductViewEvent \x3d new CustomEvent(\x22miProductView\x22, miProductView);\n        //window.dispatchEvent(miProductViewEvent);\n    } catch(e) {}\n}\n\n(function(m,o,v,a,b,l,e) {\n    if (typeof m[\x27MovableInkTrack\x27] !\x3d\x3d \x27undefined\x27) { return; }\n    m[\x27MovableInkTrack\x27] \x3d b;\n    l \x3d o.createElement(v);\n    e \x3d o.getElementsByTagName(v)[0];\n    l.type \x3d \x27text/javascript\x27; l.async \x3d true;\n    l.src \x3d \x27//\x27 + a + \x27/p/js/1.js\x27;\n    m[b] \x3d m[b] || function() { (m[b].q\x3dm[b].q||[]).push(arguments); };\n    e.parentNode.insertBefore(l, e);\n})(window, document, \x27script\x27, \x27mi.hollisterco.com\x27, \x27mitr\x27);\n\nif (\x22'+s.data('page type')+'\x22 \x3d\x3d \x22order confirmation\x22) {\n    try {\n        if (typeof bt_eval(\x27ANF.models.cart.items\x27) !\x3d \x27undefined\x27) {\n            numItems \x3d ANF.models.cart.items.length;\n            for (i\x3d0;i\x3cnumItems;i++) {\n                thisSku \x3d ANF.models.cart.items[i].item.longSku;\n                thisName \x3d ANF.models.cart.items[i].productName;\n                thisPrice \x3d ANF.models.cart.items[i].price;\n                mitr(\x27addProduct\x27, {\n                    sku: thisSku,    /* REQUIRED */\n                    name: thisName,\n                    price: thisPrice,\n                    quantity: 1,\n                    other: \x22\x22\n                });\n            }\n            mitr(\x27send\x27, \x27conversion\x27, {\n                revenue: \x22'+s.data('purchase subtotal (usd)')+'\x22,\n                identifier: \x22'+s.data('purchase id')+'\x22\n            });\n        }\n    } catch(e) {\n        $(window).trigger(\x27analytics.errorTracking\x27, [{\x27type\x27:\x27movable ink error\x27, \x27attribute\x27:\x27'+s.data('purchase id')+'\x27, \x27message\x27:\x27\x27}]); \n    }\n}\n\x3c/script\x3e',{tagId:534345});
});
});
