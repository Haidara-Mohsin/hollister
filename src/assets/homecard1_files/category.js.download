function ownKeys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}redesign.define("catalogModules/scrollToTop",["anfUtil/testFramework"],function(e){"use strict";function t(e){return new Waypoint({element:e,handler:function(e){var t="hidden";"up"===e?t="hidden":"down"===e&&(t="visible"),s.style.visibility=t}})}function n(t,n){if(e.string.empty(t,!0)||e.string.empty(n,!0))throw new Error("No valid scroll to top waypointTarget or buttonNode selector provided")}function r(t){var n=0;return e.type.number(t,!1)&&(n=t),n}function i(t){var n="main";return e.string.not.empty(t,!1)&&(n=t),n}function a(e,t){var n=document.querySelector(e),r=document.querySelector(t);if(!n)throw new Error('No scroll to top waypoint trigger node found with target selector: "'+e+'"');if(!r)throw new Error('No scroll to top button node found with target selector: "'+t+'"');return{targetEle:n,buttonEle:r}}function o(e,t){window.scroll({top:e,left:0,behavior:"smooth"}),setTimeout(function(){document.querySelector(t).focus()},500)}var s=null;return{init:function(e,c,l,u){n(e,c);var p=a(e,c),d=r(l),m=i(u);t(p.targetEle),s=p.buttonEle,s.addEventListener("click",function(){o(d,m)})}}}),redesign.define("globalModulesHelpers/debounce",[],function(){"use strict";var e;return{debounce:function(t,n,r){return function(){var i=this,a=arguments,o=function(){e=null,r||t.apply(i,a)},s=r&&!e;clearTimeout(e),e=setTimeout(o,n),s&&t.apply(i,a)}}}}),redesign.define("es6CategoryComponents/fierce/js/fierceLandingDisplay",["exports","catalogModules/scrollToTop","globalModulesHelpers/debounce","anfUtil/testFramework","polyfill/Array/from"],function(e,t,n,r){"use strict";var i={},a=null,o=function(){var e=innerWidth,t=n.debounce(function(){innerWidth!==e&&innerWidth<540&&e<540?d():e<540&&innerWidth>=540?h():e>=540&&innerWidth<540&&g(),e=innerWidth},200);window.addEventListener("resize",function(){return t()})},s=function(e,t){return"https://img.abercrombie.com/is/image/anf/".concat(e,"-").concat(t.toString().padStart(4,"0"),".jpg")},c=function(){Array.from(document.querySelectorAll(".scroll-container")).forEach(function(e,t){var n=e.querySelector("canvas"),r=n.id;i[r]={index:t,id:r,ele:n,context:n.getContext("2d",{alpha:!1}),img:new Image};var a=i[r];a.ele.width=563,a.ele.height=1e3,a.img.src=s(r,1),a.img.onload=function(){a.context.drawImage(a.img,0,0,a.ele.width,a.ele.height)}})},l=function(){Object.keys(i).forEach(function(e){for(var t=i[e],n=1;n<=76;n++){(new Image).src=s(t.id,n)}})},u=function(e,t){var n=e;n.img.src=s(n.id,t),n.context.drawImage(n.img,0,0,e.ele.width,e.ele.height)},p=function(e){var t=e.getBoundingClientRect(),n=e.offsetHeight;return t.top>=-n&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)+n},d=function(){Object.keys(i).forEach(function(e){if(p(i[e].ele)){var t,n=i[e],r=innerHeight-60,a=document.documentElement.scrollTop,o=n.ele.getBoundingClientRect().top,s=n.ele.getBoundingClientRect().bottom;o<0&&(o=-o),r>o&&(t=r-o),r>s&&(t=s),t&&(a=t);var c=n.ele.scrollHeight,l=a/c,d=Math.min(75,Math.ceil(76*l));d<=76&&requestAnimationFrame(function(){return u(n,d+1)})}})},m=function(){return window.addEventListener("scroll",d)},f=function(){return window.removeEventListener("scroll",d)},g=function(){v(),c(),l(),m(),d()},h=function(){f(),y(),Array.from(document.querySelectorAll(".scroll-container[data-observable]")).forEach(function(e){a.observe(e)})},v=function(){r.object.not.null(a,!1)&&Array.from(document.querySelectorAll(".scroll-container[data-observable]")).forEach(function(e){a.unobserve(e)})},y=function(){a=new IntersectionObserver(function(e){e.forEach(function(e){e.isIntersecting&&b(e)})},{threshold:[.5]})},b=function(e){return arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?e.target.classList.remove("animate-in"):e.target.classList.add("animate-in")},A=function(){$(ANF).on("Fierce:Subpage:Open",function(){S()}),$(ANF).on("Fierce:Subpage:Close",function(){S()})},S=function(){var e=innerWidth<540;scrollTo(0,0),e?g():h()},w=function(){try{t.init(".fierce-product-container",".js-scroll-to-top",0,".fierce-heading-container .title")}catch(e){}};return e.init=function(){S(),o(),A(),w()},e}),redesign.define("globalServices/marketing/eSpotContentProvider",[],function(){"use strict";return{apiUrl:ANF.params.storeAttributes.apiURLRoot+"/content/marketing/",fetch:function(e,t){if(Array.isArray(e)&&0===e.length)return this.getEmptyArrayPromise();var n=this.normalizeSettings(e,t);if(!this.validateSettings(n))throw new Error("An invalid argument was supplied");var r=n.parameters.map(function(e){return e.name+"="+encodeURIComponent(e.value)}).join("&");return $.getJSON(this.apiUrl+"?"+r).promise()},getEmptyArrayPromise:function(){return $.Deferred().resolve([]).promise()},isValidParametersReduction:function(e,t){return $.isPlainObject(t)&&t.hasOwnProperty("name")&&"string"==typeof t.name&&t.hasOwnProperty("value")},normalizeSettings:function(e,t){var n={parameters:[]};return Array.isArray(e)?(e.forEach(function(e){n.parameters.push({name:"name",value:e})}),Array.isArray(t)&&t.forEach(function(e){n.parameters.push({name:e.key,value:e.value})}),n):n},validateSettings:function(e){return!!$.isPlainObject(e)&&(!(!Array.isArray(e.parameters)||0===e.parameters.length)&&!!e.parameters.reduce(this.isValidParametersReduction,!1))}}}),redesign.define("coreClass/enumeration/apiReasonCodes",[],function(){"use strict";var e={AJAX_OK:1,AJAX_FAIL:2,INVALID_PARAMS:3,GENERIC_USER:4};return Object.freeze(e),e}),redesign.define("coreServices/helpers/serviceHelper",["anfUtil/testFramework"],function(e){"use strict";return{validatePostData:function(t){if(e.type.not.defined(t.data))throw new Error("data needs to be passed to the service")},validateEndPoint:function(t){if(e.string.empty(t,!0))throw new Error("Provide an endPoint for adapter")},buildQueryStringArr:function(t){var n=[];return e.object.empty(t)||(n=Object.keys(t).map(function(e){return e+"="+t[e]})),n},buildQueryString:function(t){var n="";if(e.type.defined(t)){if(!e.type.array(t))throw new Error("Incorrect queryStringArr supplied in options");n+="?"+t.join("&")}return n}}}),redesign.define("coreServices/adapter/product/list",["coreClass/enumeration/apiReasonCodes","coreServices/helpers/serviceHelper"],function(e,t){"use strict";var n=Object.create(Object.prototype,{REASONS:{value:e}});return{reasons:n.REASONS,endpoint:"/product/list",get:function(e){var r=t.buildQueryStringArr(e.params),i=ANF.params.storeAttributes,a=i.search.enableSearchBasedProductAPI?i.apiURLSearchRoot:i.apiURLRoot,o=a+this.endpoint+t.buildQueryString(r),s=new $.Deferred,c={contentType:"application/json",dataType:"json",url:o,type:"GET"};try{t.validateEndPoint(this.endpoint),$.ajax(c).done(function(e,t,r){s.resolve({jqXHR:r,payload:e,reason:n.REASONS.AJAX_OK,status:t})}).fail(function(e,t,r){s.reject({error:r,jqXHR:e,reason:n.REASONS.AJAX_FAIL,status:t})})}catch(e){s.reject({_eMsg:e.message,reason:n.REASONS.INVALID_PARAMS})}return s.promise()}}}),redesign.define("coreServices/cache/cacheRecord",[],function(){"use strict";function e(e){if(void 0===e)throw new TypeError("value must be defined");this.timestamp=new Date,this.lastAccess=null,this.value=e}return e.prototype.getValue=function(){return this.setLastAccess(new Date),this.value},e.prototype.setValue=function(e){this.value=e,this.touch()},e.prototype.touch=function(){this.timestamp=new Date},e.prototype.getTimestamp=function(){return this.timestamp},e.prototype.setLastAccess=function(e){if(!(e instanceof Date))throw new TypeError("A Date must be supplied");this.lastAccess=e},e.prototype.getLastAccess=function(){return this.lastAccess},e}),redesign.define("coreServices/cache/cache",["coreServices/cache/cacheRecord","anfUtil/testFramework"],function(e,t){"use strict";function n(e,t){this.cache={},this.expires="number"!=typeof e||isNaN(e)?-1:e,this.maxKeys="number"!=typeof t||isNaN(t)?-1:t}return n.prototype.getKeysByYoungest=function(){var e=this;return Object.keys(this.cache).sort(function(t,n){var r=e.getRecord(t),i=e.getRecord(n);return r.getTimestamp()-i.getTimestamp()})},n.prototype.hasExcededKeyLimit=function(){return this.maxKeys>0&&Object.keys(this.cache).length>this.maxKeys},n.prototype.pruneKeys=function(e){var t=this;if(e="number"!=typeof e||isNaN(e)?0:e,this.cleanExpired(),this.hasExcededKeyLimit()){this.getKeysByYoungest().splice(this.maxKeys-e).map(function(e){return t.remove(e)})}},n.prototype.validateKey=function(e){if(t.type.not.number(e)&&t.type.not.string(e))throw new TypeError("Supplied key type is not supported");if(t.type.string(e)&&t.string.empty(e))throw new TypeError("Supplied key can not be empty")},n.prototype.get=function(e){if(this.has(e))return this.getRecord(e).getValue()},n.prototype.getRecord=function(e){if(this.validateKey(e),this.hasKey(e))return this.cache[e]},n.prototype.set=function(t,n){this.validateKey(t),this.pruneKeys(-1),this.cache[t]=new e(n)},n.prototype.remove=function(e){this.validateKey(e),delete this.cache[e]},n.prototype.has=function(e){return this.hasKey(e)&&!this.hasKeyExpired(e)},n.prototype.hasKey=function(e){var t=!1;try{this.validateKey(e),t=this.cache.hasOwnProperty(e)}catch(e){t=!1}finally{return t}},n.prototype.empty=function(){this.cache={}},n.prototype.touchKey=function(e){this.validateKey(e);var n=this.getRecord(e),r=!1;return t.type.defined(n)&&t.type.function(n.touch)&&(n.touch(),r=!0),r},n.prototype.hasKeyExpired=function(t){var n,r,i=!0,a=new Date;try{this.validateKey(t),r=this.getRecord(t),n=a.getTime()-(this.expires>0?this.expires:0),i="object"!=typeof r||null===r||!(r instanceof e)||this.expires>0&&n>r.getTimestamp().getTime()}catch(e){i=!0}finally{return i}},n.prototype.cleanExpired=function(){this.expires>0&&Object.keys(this.cache).filter(this.hasKeyExpired).map(this.remove)},n}),redesign.define("categoryPartial/fierceSubpage",["handlebars","dsPartial/button","dsHelper/concat","corePartial/url"],function(e){return this.ANF=this.ANF||{},this.ANF.templates=this.ANF.templates||{},e.registerPartial("fierceSubpage",this.ANF.templates.fierceSubpage=e.template({1:function(e,t,n,r,i){var a=e.lambda,o=e.escapeExpression;return'      <button class="navigation-button js-subpage-link" data-cat-name="'+o(a(null!=t?t.imageKey:t,t))+'" aria-label="'+o(a(null!=t?t.name:t,t))+'" data-active="'+o(a(null!=t?t.isActive:t,t))+'">\n        <img srcset="\n          https://img.abercrombie.com/is/image/anf/fierce-'+o(a(null!=t?t.imageKey:t,t))+"-nav@1x.png 1x,\n          https://img.abercrombie.com/is/image/anf/fierce-"+o(a(null!=t?t.imageKey:t,t))+'-nav@2x.png 2x\n          " alt="" class="navigation-image">\n      </button>\n'},3:function(e,t,n,r,i){var a;return"      "+e.escapeExpression(e.lambda((a=(a=i&&i.root)&&a.tmnt)&&a.backToAllFierceButton,t))+"\n"},5:function(e,t,n,r,i){var a,o=e.lambda,s=e.escapeExpression;return'  <div class="scroll-container" data-active-ele="'+s(o(null!=t?t.imageKey:t,t))+'" data-observable>\n    <div class="component-container">\n      <canvas class="fierce-canvas" id="'+s(o(null!=t?t.imageKey:t,t))+'"></canvas>\n      <div class="fierce-static">\n        <img srcset="\n          https://img.abercrombie.com/is/image/anf/fierce-'+s(o(null!=t?t.imageKey:t,t))+"-background@1x.jpg 1x,\n          https://img.abercrombie.com/is/image/anf/fierce-"+s(o(null!=t?t.imageKey:t,t))+'-background@2x.jpg 2x\n          " alt="" class="background-image">\n\n        <img srcset="\n        https://img.abercrombie.com/is/image/anf/fierce-'+s(o(null!=t?t.imageKey:t,t))+"-bottle@1x.png 1x,\n        https://img.abercrombie.com/is/image/anf/fierce-"+s(o(null!=t?t.imageKey:t,t))+'-bottle@2x.png 2x\n        " alt="" class="bottle-image">\n      </div>\n      <span class="sidebar-text" data-property="FIERCE_'+s(o(null!=t?t.imageKey:t,t))+'_DETAILS">'+(null!=(a=o(null!=t?t.details:t,t))?a:"")+'</span>\n      <div class="description-container">\n        <div class="button-container">\n'+(null!=(a=e.invokePartial(r.button,t,{name:"button",hash:{"data-prop":n.concat.call(null!=t?t:e.nullContext||{},'data-cat-name="',null!=t?t.imageKey:t,'" data-collectionid="',null!=t?t.collectionId:t,'" data-seq="',null!=t?t.sequence:t,'" data-productid="',null!=t?t.productId:t,'"',{name:"concat",hash:{},data:i}),"class-list":"no-linkify fierce-btn product-quickview__button",theme:"inverse",variant:"borderless",type:"button"},fn:e.program(6,i,0),inverse:e.noop,data:i,helpers:n,partials:r,decorators:e.decorators}))?a:"")+(null!=(a=e.invokePartial(r.button,t,{name:"button",hash:{"class-list":"no-linkify fierce-btn",theme:"inverse",variant:"secondary",href:null!=t?t.url:t},fn:e.program(8,i,0),inverse:e.noop,data:i,helpers:n,partials:r,decorators:e.decorators}))?a:"")+"        </div>\n      </div>\n    </div>\n  </div>\n"},6:function(e,t,n,r,i){var a,o=e.lambda,s=e.escapeExpression;return'            <span class="screen-reader-text">'+s(o(null!=t?t.name:t,t))+'</span>\n            <span data-icon="zoom-anf"></span>'+s(o((a=(a=i&&i.root)&&a.tmnt)&&a.quickviewValue,t))+"\n"},8:function(e,t,n,r,i){var a,o=e.lambda,s=e.escapeExpression;return"            "+s(o((a=(a=i&&i.root)&&a.tmnt)&&a.shopNowValue,t))+'\n            <span class="screen-reader-text">'+s(o(null!=t?t.name:t,t))+"</span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var a,o=e.lambda,s=e.escapeExpression;return'<div class="subpage '+s(o(null!=(a=null!=t?t.selectedProduct:t)?a.imageKey:a,t))+' fierce-heading-container">\n  <div class="fierce-navigation-container">\n    <div class="navigation-list">\n'+(null!=(a=n.each.call(null!=t?t:e.nullContext||{},null!=t?t.navigation:t,{name:"each",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?a:"")+'    </div>\n  </div>\n  <div class="title-container">\n'+(null!=(a=e.invokePartial(r.button,t,{name:"button",hash:{label:(a=(a=i&&i.root)&&a.tmnt)&&a.backToAllFierceButton,"class-list":"js-back-to-landing-link",theme:"inverse",variant:"borderless",type:"button"},fn:e.program(3,i,0),inverse:e.noop,data:i,helpers:n,partials:r,decorators:e.decorators}))?a:"")+'    <p class="title-promo" data-property="FIERCE_OURNO1FRAGRANCE">'+s(o((a=(a=i&&i.root)&&a.tmnt)&&a.fierceNo1Fragrance,t))+'</p>\n    <p class="title" tabindex="-1">'+s(o(null!=(a=null!=t?t.selectedProduct:t)?a.name:a,t))+"</p>\n    <p>"+(null!=(a=o(null!=(a=null!=t?t.selectedProduct:t)?a.description:a,t))?a:"")+'</p>\n  </div>\n</div>\n<div class="fierce-product-container subpage">\n'+(null!=(a=n.blockHelperMissing.call(t,o(null!=t?t.selectedProduct:t,t),{name:"selectedProduct",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?a:"")+"</div>"},usePartial:!0,useData:!0})),this.ANF}),redesign.define("categoryPartial/fierceAdditionalProducts",["handlebars","dsPartial/button"],function(e){return this.ANF=this.ANF||{},this.ANF.templates=this.ANF.templates||{},e.registerPartial("fierceAdditionalProducts",this.ANF.templates.fierceAdditionalProducts=e.template({1:function(e,t,n,r,i){var a,o=e.lambda,s=e.escapeExpression;return'  <div class="sample-product">\n    <img srcset="\n      https://img.abercrombie.com/is/image/anf/fierce-'+s(o(null!=(a=null!=t?t.selectedProduct:t)?a.imageKey:a,t))+"-sub-sample@1x.jpg 1x,\n      https://img.abercrombie.com/is/image/anf/fierce-"+s(o(null!=(a=null!=t?t.selectedProduct:t)?a.imageKey:a,t))+'-sub-sample@2x.jpg 2x\n      " alt="" class="sample-image">\n    <div class="sample-information">\n      <p class="sample-title">'+s(o((a=(a=i&&i.root)&&a.tmnt)&&a.fierceStartWithASample,t))+'</p>\n      <p class="sample-description">'+s(o((a=(a=i&&i.root)&&a.tmnt)&&a.fierceSamplePromoText,t))+"</p>\n"+(null!=(a=e.invokePartial(r.button,t,{name:"button",hash:{"class-list":"no-linkify ds-override sample-button",theme:"inverse",variant:"borderless",href:null!=(a=null!=t?t.sampleProduct:t)?a.productSeoToken:a},fn:e.program(2,i,0),inverse:e.noop,data:i,helpers:n,partials:r,decorators:e.decorators}))?a:"")+"    </div>\n  </div>\n"},2:function(e,t,n,r,i){var a,o=e.lambda,s=e.escapeExpression;return"        "+s(o((a=(a=i&&i.root)&&a.tmnt)&&a.shopNowValue,t))+'\n        <span class="screen-reader-text">'+s(o(null!=(a=null!=t?t.sampleProduct:t)?a.name:a,t))+"</span>\n"},4:function(e,t,n,r,i){var a;return null!=(a=n.if.call(null!=t?t:e.nullContext||{},null!=t?t.sampleSet:t,{name:"if",hash:{},fn:e.program(5,i,0),inverse:e.noop,data:i}))?a:""},5:function(e,t,n,r,i){var a;return'  <div class="sample-divider">\n    <span class="">'+e.escapeExpression(e.lambda((a=(a=i&&i.root)&&a.tmnt)&&a.fierceOrDivider,t))+"</span>\n  </div>\n"},7:function(e,t,n,r,i){var a,o=e.lambda,s=e.escapeExpression;return'  <div class="sample-product sample-set">\n'+(null!=(a=n.if.call(null!=t?t:e.nullContext||{},null!=(a=null!=t?t.sampleSet:t)?a.imageCatKey:a,{name:"if",hash:{},fn:e.program(8,i,0),inverse:e.program(10,i,0),data:i}))?a:"")+'    <div class="sample-information">\n      <p class="sample-title">'+s(o((a=(a=i&&i.root)&&a.tmnt)&&a.fierceFindYourFavorite,t))+'</p>\n      <p class="sample-description">'+s(o((a=(a=i&&i.root)&&a.tmnt)&&a.fierceYourFavoriteDescription,t))+"</p>\n"+(null!=(a=e.invokePartial(r.button,t,{name:"button",hash:{"class-list":"no-linkify ds-override sample-button",theme:"inverse",variant:"borderless",href:null!=(a=null!=t?t.sampleSet:t)?a.productSeoToken:a},fn:e.program(12,i,0),inverse:e.noop,data:i,helpers:n,partials:r,decorators:e.decorators}))?a:"")+"    </div>\n  </div>\n"},8:function(e,t,n,r,i){var a,o=e.lambda,s=e.escapeExpression;return'    <img srcset="\n      https://img.abercrombie.com/is/image/anf/fierce-sub-'+s(o(null!=(a=null!=t?t.sampleSet:t)?a.imageCatKey:a,t))+"-sampler-set@1x.jpg 1x,\n      https://img.abercrombie.com/is/image/anf/fierce-sub-"+s(o(null!=(a=null!=t?t.sampleSet:t)?a.imageCatKey:a,t))+'-sampler-set@2x.jpg 2x\n      " alt="" class="sample-image">\n'},10:function(e,t,n,r,i){return'    <img srcset="\n      https://img.abercrombie.com/is/image/anf/fierce-sub-sampler-set@1x.jpg 1x,\n      https://img.abercrombie.com/is/image/anf/fierce-sub-sampler-set@2x.jpg 2x\n      " alt="" class="sample-image">\n'},12:function(e,t,n,r,i){var a,o=e.lambda,s=e.escapeExpression;return"        "+s(o((a=(a=i&&i.root)&&a.tmnt)&&a.shopNowValue,t))+'\n        <span class="screen-reader-text">'+s(o(null!=(a=null!=t?t.sampleSet:t)?a.name:a,t))+"</span>\n"},compiler:[7,">= 4.0.0"],main:function(e,t,n,r,i){var a,o=null!=t?t:e.nullContext||{};return'<div class="subpage additional-products">\n'+(null!=(a=n.if.call(o,null!=t?t.sampleProduct:t,{name:"if",hash:{},fn:e.program(1,i,0),inverse:e.noop,data:i}))?a:"")+"\n"+(null!=(a=n.if.call(o,null!=t?t.sampleProduct:t,{name:"if",hash:{},fn:e.program(4,i,0),inverse:e.noop,data:i}))?a:"")+"\n"+(null!=(a=n.if.call(o,null!=t?t.sampleSet:t,{name:"if",hash:{},fn:e.program(7,i,0),inverse:e.noop,data:i}))?a:"")+"</div>"},usePartial:!0,useData:!0})),this.ANF}),redesign.define("es6CategoryComponents/fierce/js/fierceSubpageDisplay",["exports","anfUtil/testFramework","globalServices/marketing/eSpotContentProvider","coreServices/adapter/product/list","coreServices/cache/cache","anfUtil/constants","categoryPartial/fierceSubpage","categoryPartial/fierceAdditionalProducts","polyfill/Array/from"],function(e,t,n,r,i,a,o,s){"use strict";var c=new i,l=["fierceCollectionTitle","fierceCollectionDescription","backToAllFierceButton","fierceNo1Fragrance","shopNowValue","quickviewValue","fierceStartWithASample","fierceSamplePromoText","fierceFindYourFavorite","fierceYourFavoriteDescription","fierceOrDivider"],u={},p=function(e){e.forEach(function(e){u[e]=a.i18n("catalogV2.TMNT.".concat(e,".value"))})},d=function(e){var t,n,i,a=new $.Deferred,o=null!==(t=null===e||void 0===e?void 0:null===(n=e.selectedProduct)||void 0===n?void 0:n.sampleProductId)&&void 0!==t?t:"",s=null!==(i=null===e||void 0===e?void 0:e.samplerSetId)&&void 0!==i?i:"",c={params:{productIds:"".concat(o,",").concat(s)}};return r.get(c).done(function(e){a.resolve(e.payload.products)}),a.promise()},m=function(e){return t.string.not.empty(null===e||void 0===e?void 0:e.name,!1)&&t.string.not.empty(null===e||void 0===e?void 0:e.content,!1)?e:{}},f=function(e){var t=[{key:"categoryId",value:a.anf("catalog.data.categoryId")},{key:"page",value:"CategoryDisplay"}],r=new $.Deferred,i="";return n.fetch(["fierce-".concat(e,"-subpage")],t).done(function(e){e.filter(m).forEach(function(e){e.content.forEach(function(e){i+=e.text})}),r.resolve(i)}),r.promise()},g=function(e){var t=a.anf("catalog.data.fierce"),n="";t.subCategories=t.subCategories.map(function(t){return t.imageKey===e?_objectSpread(_objectSpread({},t),{},{isActive:!0}):t});var r={categoryKey:e,tmnt:u,navigation:t.subCategories,selectedProduct:t.subCategories.find(function(t){return t.imageKey===e}),samplerSetId:t.samplerSetId||""},i=[f(e),d(r)];$.when.apply($,i).then(function(){var t=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1];r.sampleProduct=i.find(function(e){return e.productId===r.selectedProduct.sampleProductId}),r.sampleSet=i.find(function(e){return e.productId===r.samplerSetId}),"perfume"===e&&r.sampleSet&&(r.sampleSet.imageCatKey=e),n=o.templates.fierceSubpage(r),n+=t,n+=s.templates.fierceAdditionalProducts(r),h(_defineProperty({},e,n)),b(n)}).fail(function(){A()})},h=function(e){Object.keys(e).forEach(function(t){c.set(t,e[t])})},v=function(e){return c.get(e)},y=function(e){var t=e.currentTarget.dataset.catName;document.querySelector(".scroll-container[data-active-ele=".concat(t,"]"))||(c.has("landing")||S(),c.has(t)?b(v(t)):g(t))},b=function(e){document.querySelector(".grid-content-wrap").innerHTML=e,E(),$(ANF).trigger("Fierce:Subpage:Open"),w()},A=function(){document.querySelector(".grid-content-wrap").innerHTML=v("landing"),E(),$(ANF).trigger("Fierce:Subpage:Close")},S=function(){var e={landing:document.querySelector(".grid-content-wrap").innerHTML};h(e)},w=function(){document.querySelector('.js-subpage-link[data-active="true"]').scrollIntoView(),document.querySelector(".title-container .title").focus(),scrollTo(0,0)},E=function(){Array.from(document.querySelectorAll(".js-subpage-link")).forEach(function(e){e.addEventListener("click",y)}),Array.from(document.querySelectorAll(".js-back-to-landing-link")).forEach(function(e){e.addEventListener("click",A)})};return e.init=function(){E(),p(l)},e}),redesign.define("es6CategoryPages/category",["exports","es6CategoryComponents/fierce/js/fierceLandingDisplay","es6CategoryComponents/fierce/js/fierceSubpageDisplay"],function(e,t,n){"use strict";return e.requireInit=function(){ANF=ANF||{},ANF.categoryPage={init:function(){document.querySelector("body.fierce-landing")&&(t.init(),n.init())}},ANF.deferredStart=ANF.deferredStart||new $.Deferred,ANF.deferredStart.then(function(){ANF.categoryPage.init()})},e}),redesign.require(["es6CategoryPages/category"],function(){"use strict";Array.prototype.slice.call(arguments).map(function(e){return e.requireInit()})}),redesign.define("src/hol/js/category.js",function(){});